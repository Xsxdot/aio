import{g as o}from"./index.15381f0b.js";async function n(){try{const u=await o.get("/api/config/");return console.log("API\u539F\u59CB\u54CD\u5E94:",u),u.data&&typeof u.data.data<"u"&&u.data.error===!1?u.data.data:u.data&&u.data.responseCode===2e4&&u.data.hasData===!0?u.data.data?u.data.data:[]:Array.isArray(u.data)?u.data:(console.error("\u65E0\u6CD5\u8BC6\u522B\u7684\u54CD\u5E94\u683C\u5F0F:",u),[])}catch(u){return console.error("\u83B7\u53D6\u914D\u7F6E\u5217\u8868\u5931\u8D25:",u),[]}}async function d(u){try{const a=await o.get(`/api/config/${u}`);if(console.log("\u83B7\u53D6\u914D\u7F6E\u8BE6\u60C5\u539F\u59CB\u54CD\u5E94:",a),a.data&&typeof a.data.data<"u"&&a.data.error===!1)return a.data.data;if(a.data&&a.data.responseCode===2e4&&a.data.hasData===!0){if(a.data.data)return a.data.data}else if(a.data&&typeof a.data=="object"&&a.data.key)return a.data;throw new Error(`\u914D\u7F6E\u9879\u4E0D\u5B58\u5728: ${u}`)}catch(a){throw console.error("\u83B7\u53D6\u914D\u7F6E\u9879\u5931\u8D25:",a),a}}async function s(u){try{const a=await o.post("/api/config/",u);return console.log("\u521B\u5EFA\u914D\u7F6E\u54CD\u5E94:",a),a.data&&a.data.error===!1&&a.data.data||a.data&&a.data.responseCode===2e4&&a.data.data?a.data.data:u}catch(a){throw console.error("\u521B\u5EFA\u914D\u7F6E\u9879\u5931\u8D25:",a),a}}async function i(u,a){try{const t=await o.put(`/api/config/${u}`,a);return console.log("\u66F4\u65B0\u914D\u7F6E\u54CD\u5E94:",t),t.data&&t.data.error===!1&&t.data.data?t.data.data:t.data&&t.data.responseCode===2e4?t.data.data?t.data.data:{key:u,...a}:{key:u,...a}}catch(t){throw console.error("\u66F4\u65B0\u914D\u7F6E\u9879\u5931\u8D25:",t),t}}async function c(u){try{const a=await o.delete(`/api/config/${u}`);console.log("\u5220\u9664\u914D\u7F6E\u54CD\u5E94:",a);return}catch(a){throw console.error("\u5220\u9664\u914D\u7F6E\u9879\u5931\u8D25:",a),a}}async function f(u,a=10){try{const t=await o.get(`/api/config/${u}/history?limit=${a}`);return console.log("\u83B7\u53D6\u914D\u7F6E\u5386\u53F2\u54CD\u5E94:",t),t.data&&t.data.error===!1&&t.data.data?t.data.data:t.data&&t.data.responseCode===2e4?t.data.data?t.data.data:[]:Array.isArray(t.data)?t.data:[]}catch(t){return console.error("\u83B7\u53D6\u914D\u7F6E\u5386\u53F2\u5931\u8D25:",t),[]}}async function l(u){try{const a=await o.get(`/api/config/${u}/environments`);if(console.log("\u83B7\u53D6\u73AF\u5883\u914D\u7F6E\u539F\u59CB\u54CD\u5E94:",a),a.data&&typeof a.data.data<"u"&&a.data.error===!1)return a.data.data;if(a.data&&a.data.responseCode===2e4&&a.data.hasData===!0){if(a.data.data)return a.data.data}else if(a.data&&typeof a.data=="object"&&!Array.isArray(a.data))return a.data;return console.error("\u65E0\u6CD5\u8BC6\u522B\u7684\u73AF\u5883\u914D\u7F6E\u54CD\u5E94\u683C\u5F0F:",a),{}}catch(a){return console.error("\u83B7\u53D6\u73AF\u5883\u914D\u7F6E\u5931\u8D25:",a),{}}}async function D(u,a){try{const t=await o.get(`/api/config/${u}/env/${a}`);if(console.log("\u83B7\u53D6\u73AF\u5883\u914D\u7F6E\u54CD\u5E94:",t),t.data&&t.data.error===!1&&t.data.data)return t.data.data;if(t.data&&t.data.responseCode===2e4){if(t.data.data)return t.data.data}else if(t.data&&typeof t.data=="object"&&!Array.isArray(t.data))return t.data;throw console.error("\u65E0\u6CD5\u8BC6\u522B\u7684\u73AF\u5883\u914D\u7F6E\u54CD\u5E94\u683C\u5F0F:",t),new Error("\u83B7\u53D6\u73AF\u5883\u914D\u7F6E\u5931\u8D25: \u65E0\u6CD5\u8BC6\u522B\u7684\u54CD\u5E94\u683C\u5F0F")}catch(t){throw console.error("\u83B7\u53D6\u73AF\u5883\u914D\u7F6E\u5931\u8D25:",t),t}}async function E(u,a,t){try{const e=await o.post(`/api/config/${u}/env/${a}`,t);if(console.log("\u8BBE\u7F6E\u73AF\u5883\u914D\u7F6E\u54CD\u5E94:",e),e.data&&e.data.error===!1&&e.data.data)return e.data.data;if(e.data&&e.data.responseCode===2e4){if(e.data.data)return e.data.data}else if(e.data&&typeof e.data=="object"&&!Array.isArray(e.data))return e.data;throw console.error("\u65E0\u6CD5\u8BC6\u522B\u7684\u73AF\u5883\u914D\u7F6E\u54CD\u5E94\u683C\u5F0F:",e),new Error("\u8BBE\u7F6E\u73AF\u5883\u914D\u7F6E\u5931\u8D25: \u65E0\u6CD5\u8BC6\u522B\u7684\u54CD\u5E94\u683C\u5F0F")}catch(e){throw console.error("\u8BBE\u7F6E\u73AF\u5883\u914D\u7F6E\u5931\u8D25:",e),e}}async function F(u,a){try{const t=a?`/api/config/merge/env/${a}`:"/api/config/merge",e=await o.post(t,{keys:u});return console.log("\u5408\u5E76\u914D\u7F6E\u54CD\u5E94:",e),e.data&&e.data.error===!1&&e.data.data||e.data&&e.data.responseCode===2e4&&e.data.data?e.data.data:e.data&&typeof e.data=="object"?e.data:{}}catch(t){return console.error("\u5408\u5E76\u914D\u7F6E\u5931\u8D25:",t),{}}}async function p(u,a){try{const t=a?`/api/config/${u}/export/env/${a}`:`/api/config/${u}/export`,e=await o.get(t,{headers:{Accept:"application/json"}});return console.log("\u5BFC\u51FA\u914D\u7F6E\u54CD\u5E94:",e),e.data&&e.data.error===!1&&e.data.data||e.data&&e.data.responseCode===2e4&&e.data.data?e.data.data:e.data?e.data:{}}catch(t){return console.error("\u5BFC\u51FA\u914D\u7F6E\u5931\u8D25:",t),{}}}async function C(u,a){try{const t=await o.get(`/api/config/${u}/references?env=${a}`);if(console.log("\u67E5\u627E\u914D\u7F6E\u5F15\u7528\u54CD\u5E94:",t),t.data&&t.data.error===!1&&t.data.data)return t.data.data;if(t.data&&t.data.responseCode===2e4){if(t.data.data)return t.data.data}else if(Array.isArray(t.data))return t.data;return[]}catch(t){return console.error("\u67E5\u627E\u914D\u7F6E\u5F15\u7528\u5931\u8D25:",t),[]}}async function g(u){try{const a=await o.get(`/api/config/${u}/dependents`);if(console.log("\u67E5\u627E\u914D\u7F6E\u4F9D\u8D56\u9879\u54CD\u5E94:",a),a.data&&a.data.error===!1&&a.data.data)return a.data.data;if(a.data&&a.data.responseCode===2e4){if(a.data.data)return a.data.data}else if(Array.isArray(a.data))return a.data;return[]}catch(a){return console.error("\u67E5\u627E\u914D\u7F6E\u4F9D\u8D56\u9879\u5931\u8D25:",a),[]}}async function B(u){try{const a=await o.get(`/api/config/${u}/composite`);return console.log("\u83B7\u53D6\u7EC4\u5408\u914D\u7F6E\u54CD\u5E94:",a),a.data&&a.data.error===!1&&a.data.data||a.data&&a.data.responseCode===2e4&&a.data.data?a.data.data:a.data}catch(a){return console.error("\u83B7\u53D6\u7EC4\u5408\u914D\u7F6E\u5931\u8D25:",a),{}}}async function y(u,a,t){try{const e=t?{fallbacks:JSON.stringify(t)}:{},r=await o.get(`/api/config/${u}/composite/env/${a}`,{params:e});return console.log("\u83B7\u53D6\u73AF\u5883\u7EC4\u5408\u914D\u7F6E\u54CD\u5E94:",r),r.data&&r.data.error===!1&&r.data.data||r.data&&r.data.responseCode===2e4&&r.data.data?r.data.data:r.data}catch(e){return console.error("\u83B7\u53D6\u73AF\u5883\u7EC4\u5408\u914D\u7F6E\u5931\u8D25:",e),{}}}async function A(u,a,t){try{const e=t?{fallbacks:JSON.stringify(t)}:{},r=await o.post(`/api/config/merge/env/${u}`,{keys:a},{params:e});return console.log("\u5408\u5E76\u73AF\u5883\u914D\u7F6E\u54CD\u5E94:",r),r.data&&r.data.error===!1&&r.data.data||r.data&&r.data.responseCode===2e4&&r.data.data?r.data.data:r.data}catch(e){return console.error("\u5408\u5E76\u73AF\u5883\u914D\u7F6E\u5931\u8D25:",e),{}}}async function h(u,a,t){try{const e=t?{fallbacks:JSON.stringify(t)}:{},r=await o.get(`/api/config/${u}/export/env/${a}`,{params:e});return console.log("\u5BFC\u51FA\u73AF\u5883\u914D\u7F6E\u54CD\u5E94:",r),r.data&&r.data.error===!1&&r.data.data||r.data&&r.data.responseCode===2e4&&r.data.data?r.data.data:r.data}catch(e){return console.error("\u5BFC\u51FA\u73AF\u5883\u914D\u7F6E\u5931\u8D25:",e),{}}}async function w(u){try{const a=await o.post("/api/config/export",{password:u});if(console.log("\u5BFC\u51FA\u914D\u7F6E\u54CD\u5E94:",a),a.data&&a.data.error===!1&&a.data.data)return{data:a.data.data};if(a.data&&a.data.responseCode===2e4&&a.data.data)return{data:a.data.data};if(a.data)return{data:a.data};throw new Error("\u5BFC\u51FA\u914D\u7F6E\u5931\u8D25: \u54CD\u5E94\u6570\u636E\u4E3A\u7A7A")}catch(a){throw console.error("\u5BFC\u51FA\u914D\u7F6E\u5931\u8D25:",a),a}}async function m(u){try{const a=await o.post("/api/config/import",u);return console.log("\u5BFC\u5165\u914D\u7F6E\u54CD\u5E94:",a),a.data&&a.data.error===!1&&a.data.data?(console.log("\u6807\u51C6\u54CD\u5E94\u683C\u5F0F, data:",a.data.data),a.data.data.skipped&&console.log("\u68C0\u6D4B\u5230skipped\u5B57\u6BB5:",a.data.data.skipped),a.data.data):a.data&&a.data.responseCode===2e4&&a.data.data?(console.log("\u62E6\u622A\u5668\u683C\u5F0F, data:",a.data.data),a.data.data.skipped&&console.log("\u68C0\u6D4B\u5230skipped\u5B57\u6BB5:",a.data.data.skipped),a.data.data):a.data?(console.log("\u76F4\u63A5\u54CD\u5E94\u683C\u5F0F:",a.data),a.data.skipped&&console.log("\u68C0\u6D4B\u5230skipped\u5B57\u6BB5:",a.data.skipped),a.data):(console.log("\u672A\u8BC6\u522B\u7684\u54CD\u5E94\u683C\u5F0F\uFF0C\u8FD4\u56DE\u7A7A\u5BF9\u8C61"),{})}catch(a){throw console.error("\u5BFC\u5165\u914D\u7F6E\u5931\u8D25:",a),a}}const v=Object.freeze(Object.defineProperty({__proto__:null,fetchConfigList:n,fetchConfigItem:d,createConfigItem:s,updateConfigItem:i,deleteConfigItem:c,fetchConfigHistory:f,fetchConfigEnvironments:l,fetchConfigByEnvironment:D,setConfigForEnvironment:E,mergeConfigs:F,exportConfigAsJson:p,findConfigReferences:C,findConfigDependents:g,fetchCompositeConfig:B,fetchCompositeConfigByEnvironment:y,mergeConfigsByEnvironment:A,exportConfigByEnvironmentAsJson:h,exportConfigs:w,importConfigs:m},Symbol.toStringTag,{value:"Module"}));export{f as a,l as b,d as c,s as d,p as e,n as f,c as g,w as h,m as i,v as j,E as s,i as u};
