import{_ as G,t as x}from"./index.15381f0b.js";/* empty css               *//* empty css              *//* empty css               *//* empty css              *//* empty css               */import{d as X,j as h,w as L,o as K,bF as ee,aX as E,C as T,aE as W,aH as l,aI as t,aM as a,E as N,G as H,aN as F,D as U,aF as Y,c9 as ke,ca as Ve,bO as ue,bP as te,bS as de,aT as re,bT as le,bU as ae,ba as oe,c as ne,aK as O,aJ as J,cb as Ne,bc as fe,ac as $e,aY as se,bb as me,bQ as ge,bl as ve,bX as ie,c1 as pe,bR as ce,b_ as ye,b2 as Fe,r as be,a6 as Ee,aW as De,b7 as _e,b$ as Ie,c0 as Te,aV as he,b1 as Z,bv as Me,bs as Se}from"./arco.2804d378.js";/* empty css                */import{g as Ue,a as Re,q as Pe,b as Le,m as Ce,c as Be,d as Oe,e as Ae,s as ze,r as We,f as qe,h as we,u as Ye,i as je,j as He,t as Je,k as Ge,l as Xe,n as Ke,o as Qe,p as Ze}from"./monitor.07efdc4f.js";import{k as xe}from"./chart.100020e2.js";/* empty css                *//* empty css               *//* empty css               *//* empty css                *//* empty css              */import{d as eu}from"./distributed.0f0884be.js";import"./vue.bbad6851.js";const uu=X({name:"SystemOverview",props:{refreshInterval:{type:Number,default:3e4},refreshTrigger:{type:Number,default:0},selectedNode:{type:Object,default:null}},setup(e){const u=h({cpu_usage:0,memory_usage:0,disk_usage:0,load_average:[0],uptime:0,boot_time:0}),S=h(!1),$=m=>Math.abs(m-Math.round(m))<.1?Math.round(m):Number(m.toFixed(1)),B=m=>{const n=Math.max(0,Math.min(100,m));return Number((n/100).toFixed(2))},P=m=>m<70?"normal":m<90?"warning":"danger",d=m=>{if(!u.value.load_average||u.value.load_average.length<=m)return"0.00";const n=u.value.load_average[m];return typeof n=="number"?n.toFixed(2):"0.00"},p=m=>{if(!u.value.load_average||u.value.load_average.length<=m)return"var(--color-text-1)";const n=u.value.load_average[m];return typeof n!="number"?"var(--color-text-1)":n<2?"var(--color-success-6)":n<4?"var(--color-warning-6)":"var(--color-danger-6)"},r=m=>{if(!u.value.load_average||u.value.load_average.length<=m)return 0;const n=u.value.load_average[m];if(typeof n!="number")return 0;const y=Math.min(n/8*100,100);return Math.round(y)},I=m=>{if(!u.value.load_average||u.value.load_average.length<=m)return"var(--color-fill-2)";const n=u.value.load_average[m];return typeof n!="number"?"var(--color-fill-2)":n<2?"var(--color-success-6)":n<4?"var(--color-warning-6)":"var(--color-danger-6)"},_=async()=>{var m,n;S.value=!0;try{let y;if(e.selectedNode){let c=e.selectedNode.address;c.includes(":")&&(c=c.split(":")[0]),y=await Ue(c,((m=e.selectedNode.metadata)==null?void 0:m.http_port)||0)}else y=await Re();if(y&&y.data){const c=y.data;u.value=c}}catch(y){console.error("\u83B7\u53D6\u7CFB\u7EDF\u6982\u89C8\u6570\u636E\u5931\u8D25:",y);const c=e.selectedNode?`(\u8282\u70B9: ${e.selectedNode.address.includes(":")?e.selectedNode.address.split(":")[0]:e.selectedNode.address}:${(n=e.selectedNode.metadata)==null?void 0:n.http_port})`:"";E.error(`\u83B7\u53D6\u7CFB\u7EDF\u6982\u89C8\u6570\u636E\u5931\u8D25${c}`)}finally{S.value=!1}};let k=null;return L(()=>e.selectedNode,()=>{_()}),L(()=>e.refreshTrigger,()=>{_()}),L(()=>e.refreshInterval,m=>{k&&(clearInterval(k),k=null),m>0&&(k=window.setInterval(()=>{_()},m))}),K(()=>{_(),e.refreshInterval>0&&(k=window.setInterval(()=>{_()},e.refreshInterval))}),ee(()=>{k&&(clearInterval(k),k=null)}),{data:u,loading:S,formatPercent:$,formatProgressPercent:B,getStatusByPercent:P,formatLoad:d,getLoadColor:p,getLoadPercentage:r,getLoadProgressColor:I}}});const tu={class:"load-average-container"},lu={class:"load-item"},au={class:"load-progress-container"},ru={key:0,class:"load-item"},nu={class:"load-progress-container"},ou={key:1,class:"load-item"},su={class:"load-progress-container"};function iu(e,u,S,$,B,P){const d=ke,p=Ve,r=ue,I=te,_=de;return T(),W(_,{class:"general-card",title:e.$t("\u7CFB\u7EDF\u6982\u89C8")},{default:l(()=>[t(I,{gutter:16},{default:l(()=>[t(r,{span:6},{default:l(()=>[t(d,{title:"CPU\u4F7F\u7528\u7387",value:e.formatPercent(e.data.cpu_usage),loading:e.loading},{suffix:l(()=>u[0]||(u[0]=[a("%")])),_:1},8,["value","loading"]),t(p,{percent:e.formatProgressPercent(e.data.cpu_usage),status:e.getStatusByPercent(e.data.cpu_usage)},null,8,["percent","status"])]),_:1}),t(r,{span:6},{default:l(()=>[t(d,{title:"\u5185\u5B58\u4F7F\u7528\u7387",value:e.formatPercent(e.data.memory_usage),loading:e.loading},{suffix:l(()=>u[1]||(u[1]=[a("%")])),_:1},8,["value","loading"]),t(p,{percent:e.formatProgressPercent(e.data.memory_usage),status:e.getStatusByPercent(e.data.memory_usage)},null,8,["percent","status"])]),_:1}),t(r,{span:6},{default:l(()=>[t(d,{title:"\u78C1\u76D8\u4F7F\u7528\u7387",value:e.formatPercent(e.data.disk_usage),loading:e.loading},{suffix:l(()=>u[2]||(u[2]=[a("%")])),_:1},8,["value","loading"]),t(p,{percent:e.formatProgressPercent(e.data.disk_usage),status:e.getStatusByPercent(e.data.disk_usage)},null,8,["percent","status"])]),_:1}),t(r,{span:6},{default:l(()=>[t(d,{title:"\u7CFB\u7EDF\u8D1F\u8F7D",loading:e.loading},{value:l(()=>[N("span",{class:"main-load-value",style:H({color:e.getLoadColor(0)})},F(e.formatLoad(0)),5)]),_:1},8,["loading"]),N("div",tu,[N("div",lu,[N("span",{class:"load-value",style:H({color:e.getLoadColor(0)})},F(e.formatLoad(0)),5),u[3]||(u[3]=N("span",{class:"load-label"},"1\u5206\u949F",-1)),N("div",au,[N("div",{class:"load-progress-bar",style:H({width:`${e.getLoadPercentage(0)}%`,backgroundColor:e.getLoadProgressColor(0)})},null,4)])]),e.data.load_average&&e.data.load_average.length>1?(T(),U("div",ru,[N("span",{class:"load-value",style:H({color:e.getLoadColor(1)})},F(e.formatLoad(1)),5),u[4]||(u[4]=N("span",{class:"load-label"},"5\u5206\u949F",-1)),N("div",nu,[N("div",{class:"load-progress-bar",style:H({width:`${e.getLoadPercentage(1)}%`,backgroundColor:e.getLoadProgressColor(1)})},null,4)])])):Y("",!0),e.data.load_average&&e.data.load_average.length>2?(T(),U("div",ou,[N("span",{class:"load-value",style:H({color:e.getLoadColor(2)})},F(e.formatLoad(2)),5),u[5]||(u[5]=N("span",{class:"load-label"},"15\u5206\u949F",-1)),N("div",su,[N("div",{class:"load-progress-bar",style:H({width:`${e.getLoadPercentage(2)}%`,backgroundColor:e.getLoadProgressColor(2)})},null,4)])])):Y("",!0)])]),_:1})]),_:1})]),_:1},8,["title"])}const du=G(uu,[["render",iu],["__scopeId","data-v-c80996eb"]]),fu=X({name:"MetricChart",props:{title:{type:String,required:!0},metrics:{type:String,required:!0},startTime:{type:String,default:"-1h"},endTime:{type:String,default:""},interval:{type:String,default:"1m"},chartType:{type:String,default:"line"},colors:{type:Array,default:()=>["#5470c6","#91cc75","#fac858","#ee6666"]},seriesNames:{type:Array,default:()=>[]},yAxisName:{type:String,default:""},yAxisMin:{type:Number,default:void 0},yAxisMax:{type:Number,default:void 0},refreshInterval:{type:Number,default:6e4},refreshTrigger:{type:Number,default:0},selectedNode:{type:Object,default:null}},setup(e,{emit:u}){const S=h(null),$=h(null),B=h(!1),P=h([]),d=h(e.interval),p=h(e.startTime),r=()=>{if(!S.value)return;$.value=xe(S.value);const c={tooltip:{trigger:"axis",formatter:D=>{let C=`${re(D[0].value[0]).format("YYYY-MM-DD HH:mm:ss")}<br/>`;return D.forEach(b=>{C+=`${b.marker} ${b.seriesName}: ${b.value[1]}<br/>`}),C}},legend:{data:e.seriesNames.length>0?e.seriesNames:void 0},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"time",axisLabel:{formatter:D=>re(D).format("HH:mm:ss")}},yAxis:{type:"value",name:e.yAxisName,min:e.yAxisMin,max:e.yAxisMax},series:[]};$.value.setOption(c)},I=()=>{if(!$.value)return;const c=P.value.map((D,M)=>({name:D.name,type:e.chartType,smooth:!0,data:D.data,itemStyle:{color:e.colors[M%e.colors.length]}}));$.value.setOption({series:c})},_=c=>{const D=String(c);p.value=D,m(),u("timeRangeChange",D)},k=c=>{const D=String(c);d.value=D,m(),u("intervalChange",D)},m=async()=>{var c;B.value=!0;try{const D=Math.floor(Date.now()/1e3);let M=D-3600;if(p.value)if(p.value.startsWith("-")){const V=parseInt(p.value.substring(1,p.value.length-1)),A=p.value.charAt(p.value.length-1);A==="h"?M=D-V*3600:A==="m"?M=D-V*60:A==="d"&&(M=D-V*86400)}else M=parseInt(p.value);let C,b;if(e.selectedNode){let V=e.selectedNode.address;if(V.includes(":")&&(V=V.split(":")[0]),C=await Pe(V,((c=e.selectedNode.metadata)==null?void 0:c.http_port)||0,e.metrics,M,e.endTime?parseInt(e.endTime):void 0,d.value),C.data)b=C.data;else throw new Error("\u670D\u52A1\u5668\u8FD4\u56DE\u6570\u636E\u683C\u5F0F\u4E0D\u6B63\u786E")}else if(C=await Le(e.metrics,M,e.endTime?parseInt(e.endTime):void 0,d.value),C.data)b=C.data.data||C.data;else throw new Error("\u670D\u52A1\u5668\u8FD4\u56DE\u6570\u636E\u683C\u5F0F\u4E0D\u6B63\u786E");b&&b.series&&(P.value=b.series.map((V,A)=>{const w=e.seriesNames.length>A?e.seriesNames[A]:V.name,g=V.points.map(s=>[new Date(typeof s.timestamp=="number"?s.timestamp*1e3:s.timestamp),s.value]);return{name:w,data:g}})),I()}catch(D){console.error("\u83B7\u53D6\u6307\u6807\u6570\u636E\u5931\u8D25:",D)}finally{B.value=!1}};let n=null;const y=()=>{$.value&&$.value.resize()};return L([()=>e.metrics,()=>e.startTime,()=>e.endTime,()=>e.interval,()=>e.refreshTrigger,()=>e.selectedNode],()=>{m()}),L(()=>e.startTime,c=>{c!==p.value&&(p.value=c)}),L(()=>e.interval,c=>{c!==d.value&&(d.value=c)}),L(()=>e.refreshInterval,c=>{n&&(clearInterval(n),n=null),c>0&&(n=window.setInterval(()=>{m()},c))}),K(()=>{r(),m(),window.addEventListener("resize",y)}),ee(()=>{n&&(clearInterval(n),n=null),$.value&&($.value.dispose(),$.value=null),window.removeEventListener("resize",y)}),{chartRef:S,loading:B,selectedInterval:d,onIntervalChange:k,selectedTimeRange:p,onTimeRangeChange:_}}});const mu={ref:"chartRef",class:"chart"};function gu(e,u,S,$,B,P){const d=le,p=ae,r=oe,I=de;return T(),W(I,{title:e.title},{extra:l(()=>[t(r,null,{default:l(()=>[t(p,{modelValue:e.selectedTimeRange,"onUpdate:modelValue":u[0]||(u[0]=_=>e.selectedTimeRange=_),style:{width:"100px"},onChange:e.onTimeRangeChange},{default:l(()=>[t(d,{value:"-15m"},{default:l(()=>u[2]||(u[2]=[a("15\u5206\u949F")])),_:1}),t(d,{value:"-30m"},{default:l(()=>u[3]||(u[3]=[a("30\u5206\u949F")])),_:1}),t(d,{value:"-1h"},{default:l(()=>u[4]||(u[4]=[a("1\u5C0F\u65F6")])),_:1}),t(d,{value:"-3h"},{default:l(()=>u[5]||(u[5]=[a("3\u5C0F\u65F6")])),_:1}),t(d,{value:"-6h"},{default:l(()=>u[6]||(u[6]=[a("6\u5C0F\u65F6")])),_:1}),t(d,{value:"-12h"},{default:l(()=>u[7]||(u[7]=[a("12\u5C0F\u65F6")])),_:1}),t(d,{value:"-1d"},{default:l(()=>u[8]||(u[8]=[a("1\u5929")])),_:1}),t(d,{value:"-7d"},{default:l(()=>u[9]||(u[9]=[a("7\u5929")])),_:1})]),_:1},8,["modelValue","onChange"]),t(p,{modelValue:e.selectedInterval,"onUpdate:modelValue":u[1]||(u[1]=_=>e.selectedInterval=_),style:{width:"90px"},onChange:e.onIntervalChange},{default:l(()=>[t(d,{value:"10s"},{default:l(()=>u[10]||(u[10]=[a("10\u79D2")])),_:1}),t(d,{value:"30s"},{default:l(()=>u[11]||(u[11]=[a("30\u79D2")])),_:1}),t(d,{value:"1m"},{default:l(()=>u[12]||(u[12]=[a("1\u5206\u949F")])),_:1}),t(d,{value:"5m"},{default:l(()=>u[13]||(u[13]=[a("5\u5206\u949F")])),_:1}),t(d,{value:"15m"},{default:l(()=>u[14]||(u[14]=[a("15\u5206\u949F")])),_:1}),t(d,{value:"30m"},{default:l(()=>u[15]||(u[15]=[a("30\u5206\u949F")])),_:1}),t(d,{value:"1h"},{default:l(()=>u[16]||(u[16]=[a("1\u5C0F\u65F6")])),_:1})]),_:1},8,["modelValue","onChange"])]),_:1})]),default:l(()=>[N("div",mu,null,512)]),_:1},8,["title"])}const vu=G(fu,[["render",gu],["__scopeId","data-v-8cdcd2c4"]]),pu=X({name:"AlertTable",props:{refreshInterval:{type:Number,default:6e4},refreshTrigger:{type:Number,default:0}},setup(e){const u=h([]),S=h([]),$=h(!1),B=h({metric_name:"",severity:"",state:""}),P=h(),d=h(!1),p=h({duration:"2h",comment:"",alert_id:""}),r=h([]),I=h(!1),_=h({total:0,current:1,pageSize:10}),k=ne(()=>{let i=[...r.value];B.value.metric_name&&(i=i.filter(Q=>Q.metric===B.value.metric_name)),B.value.severity&&(i=i.filter(Q=>Q.severity===B.value.severity)),B.value.state&&(i=i.filter(Q=>Q.state===B.value.state));const R=(_.value.current-1)*_.value.pageSize,j=R+_.value.pageSize;return i.slice(R,j)}),m=ne(()=>{let i=[...r.value];return B.value.metric_name&&(i=i.filter(R=>R.metric===B.value.metric_name)),B.value.severity&&(i=i.filter(R=>R.severity===B.value.severity)),B.value.state&&(i=i.filter(R=>R.state===B.value.state)),i.length});L(m,i=>{_.value.total=i});const n=i=>{if(!i)return"-";const R=typeof i=="number"?new Date(i*1e3):new Date(i);return re(R).format("YYYY-MM-DD HH:mm:ss")},y=i=>{switch(i){case"critical":return"red";case"warning":return"orange";case"info":return"blue";default:return"gray"}},c=i=>{switch(i){case"critical":return"\u4E25\u91CD";case"warning":return"\u8B66\u544A";case"info":return"\u4FE1\u606F";default:return"\u672A\u77E5"}},D=i=>{switch(i){case"firing":return"red";case"silenced":return"gray";case"resolved":return"green";default:return"gray"}},M=i=>{switch(i){case"firing":return"\u89E6\u53D1\u4E2D";case"silenced":return"\u5DF2\u9759\u9ED8";case"resolved":return"\u5DF2\u89E3\u51B3";default:return"\u672A\u77E5"}},C=i=>{switch(i){case">":return">";case"<":return"<";case">=":return"\u2265";case"<=":return"\u2264";case"==":return"=";case"!=":return"\u2260";default:return i}},b=i=>Ce[i]||i,V=i=>Be[i]||"",A=async()=>{I.value=!0;try{const i=await Oe();i.data&&(r.value=i.data,_.value.total=r.value.length)}catch(i){console.error("\u83B7\u53D6\u544A\u8B66\u6570\u636E\u5931\u8D25:",i),E.error("\u83B7\u53D6\u544A\u8B66\u6570\u636E\u5931\u8D25")}finally{I.value=!1}},w=async()=>{$.value=!0;try{const i=await Ae();u.value=i.server_metrics,S.value=i.app_metrics}catch(i){console.error("\u83B7\u53D6\u6307\u6807\u5217\u8868\u5931\u8D25:",i),E.error("\u83B7\u53D6\u6307\u6807\u5217\u8868\u5931\u8D25")}finally{$.value=!1}},g=i=>{p.value.alert_id=i.id,d.value=!0},s=async()=>{var i;try{await P.value.validate();const R=await ze(p.value.alert_id,{duration:p.value.duration,comment:p.value.comment});return R.data&&R.data.code===0?(E.success("\u544A\u8B66\u5DF2\u9759\u9ED8"),A(),!0):(E.error(`\u9759\u9ED8\u5931\u8D25: ${((i=R.data)==null?void 0:i.msg)||"\u672A\u77E5\u9519\u8BEF"}`),!1)}catch(R){return console.error("\u9759\u9ED8\u544A\u8B66\u5931\u8D25:",R),!1}},v=async i=>{var R;try{const j=await We(i.id);j.data&&j.data.code===0?(E.success("\u544A\u8B66\u5DF2\u89E3\u51B3"),A()):E.error(`\u89E3\u51B3\u5931\u8D25: ${((R=j.data)==null?void 0:R.msg)||"\u672A\u77E5\u9519\u8BEF"}`)}catch(j){console.error("\u89E3\u51B3\u544A\u8B66\u5931\u8D25:",j),E.error("\u89E3\u51B3\u544A\u8B66\u5931\u8D25")}},z=()=>{_.value.current=1},q=()=>{B.value={metric_name:"",severity:"",state:""},_.value.current=1},f=i=>{_.value.current=i};let o=null;return L(()=>e.refreshTrigger,()=>{A()}),L(()=>e.refreshInterval,i=>{o&&(clearInterval(o),o=null),i>0&&(o=window.setInterval(()=>{A()},i))}),K(()=>{A(),w(),e.refreshInterval>0&&(o=window.setInterval(()=>{A()},e.refreshInterval))}),ee(()=>{o&&(clearInterval(o),o=null)}),{searchForm:B,silenceFormRef:P,silenceFormVisible:d,silenceForm:p,alerts:r,loading:I,pagination:_,filteredData:k,formatDateTime:n,getSeverityColor:y,getSeverityText:c,getStateColor:D,getStateText:M,getConditionText:C,handleSilence:g,handleSubmitSilence:s,handleResolve:v,handleSearch:z,resetSearch:q,onPageChange:f,serverMetrics:u,appMetrics:S,metricsLoading:$,getMetricChineseName:b,getMetricUnit:V}}});const cu={style:{color:"#999","margin-left":"8px","font-size":"12px"}},Fu={style:{color:"#999","margin-left":"8px","font-size":"12px"}},yu={style:{color:"#999","font-size":"12px"}};function bu(e,u,S,$,B,P){const d=le,p=Ne,r=ae,I=fe,_=$e,k=se,m=x,n=oe,y=me,c=ue,D=te,M=ge,C=ve,b=ie,V=pe,A=ce,w=ye,g=Fe;return T(),U("div",null,[t(D,{style:{"margin-bottom":"16px"}},{default:l(()=>[t(c,{span:24},{default:l(()=>[t(y,{layout:"inline",model:e.searchForm,onSubmit:e.handleSearch},{default:l(()=>[t(I,{field:"metric_name",label:"\u6307\u6807\u540D\u79F0"},{default:l(()=>[t(r,{modelValue:e.searchForm.metric_name,"onUpdate:modelValue":u[0]||(u[0]=s=>e.searchForm.metric_name=s),placeholder:"\u8BF7\u9009\u62E9\u6307\u6807\u540D\u79F0","allow-clear":"",loading:e.metricsLoading},{default:l(()=>[t(p,{label:"\u670D\u52A1\u5668\u6307\u6807"},{default:l(()=>[(T(!0),U(O,null,J(e.serverMetrics,s=>(T(),W(d,{key:s,value:s,label:e.getMetricChineseName(s)},{default:l(()=>[a(F(e.getMetricChineseName(s))+" ",1),N("span",cu,"("+F(s)+")",1)]),_:2},1032,["value","label"]))),128))]),_:1}),t(p,{label:"\u5E94\u7528\u6307\u6807"},{default:l(()=>[(T(!0),U(O,null,J(e.appMetrics,s=>(T(),W(d,{key:s,value:s,label:e.getMetricChineseName(s)},{default:l(()=>[a(F(e.getMetricChineseName(s))+" ",1),N("span",Fu,"("+F(s)+")",1)]),_:2},1032,["value","label"]))),128))]),_:1})]),_:1},8,["modelValue","loading"])]),_:1}),t(I,{field:"severity",label:"\u4E25\u91CD\u7A0B\u5EA6"},{default:l(()=>[t(r,{modelValue:e.searchForm.severity,"onUpdate:modelValue":u[1]||(u[1]=s=>e.searchForm.severity=s),placeholder:"\u8BF7\u9009\u62E9\u4E25\u91CD\u7A0B\u5EA6","allow-clear":""},{default:l(()=>[t(d,{value:"critical"},{default:l(()=>u[6]||(u[6]=[a("\u4E25\u91CD")])),_:1}),t(d,{value:"warning"},{default:l(()=>u[7]||(u[7]=[a("\u8B66\u544A")])),_:1}),t(d,{value:"info"},{default:l(()=>u[8]||(u[8]=[a("\u4FE1\u606F")])),_:1})]),_:1},8,["modelValue"])]),_:1}),t(I,{field:"state",label:"\u72B6\u6001"},{default:l(()=>[t(r,{modelValue:e.searchForm.state,"onUpdate:modelValue":u[2]||(u[2]=s=>e.searchForm.state=s),placeholder:"\u8BF7\u9009\u62E9\u72B6\u6001","allow-clear":""},{default:l(()=>[t(d,{value:"firing"},{default:l(()=>u[9]||(u[9]=[a("\u89E6\u53D1\u4E2D")])),_:1}),t(d,{value:"silenced"},{default:l(()=>u[10]||(u[10]=[a("\u5DF2\u9759\u9ED8")])),_:1})]),_:1},8,["modelValue"])]),_:1}),t(I,null,{default:l(()=>[t(n,null,{default:l(()=>[t(k,{type:"primary","html-type":"submit"},{icon:l(()=>[t(_)]),default:l(()=>[u[11]||(u[11]=a(" \u641C\u7D22 "))]),_:1}),t(k,{onClick:e.resetSearch},{icon:l(()=>[t(m)]),default:l(()=>[u[12]||(u[12]=a(" \u91CD\u7F6E "))]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["model","onSubmit"])]),_:1})]),_:1}),t(A,{data:e.filteredData,loading:e.loading,pagination:e.pagination,onPageChange:e.onPageChange},{columns:l(()=>[t(M,{title:"ID","data-index":"id",width:80}),t(M,{title:"\u89C4\u5219\u540D\u79F0","data-index":"rule_name"}),t(M,{title:"\u6307\u6807\u540D\u79F0",width:180},{cell:l(({record:s})=>[a(F(e.getMetricChineseName(s.metric))+" ",1),N("div",yu,F(s.metric),1)]),_:1}),t(M,{title:"\u5F53\u524D\u503C/\u9608\u503C",width:150},{cell:l(({record:s})=>[a(F(s.value)+F(e.getMetricUnit(s.metric))+" "+F(e.getConditionText(s.condition))+" "+F(s.threshold)+F(e.getMetricUnit(s.metric)),1)]),_:1}),t(M,{title:"\u4E25\u91CD\u7A0B\u5EA6","data-index":"severity",width:100},{cell:l(({record:s})=>[t(C,{color:e.getSeverityColor(s.severity)},{default:l(()=>[a(F(e.getSeverityText(s.severity)),1)]),_:2},1032,["color"])]),_:1}),t(M,{title:"\u72B6\u6001","data-index":"state",width:100},{cell:l(({record:s})=>[t(C,{color:e.getStateColor(s.state)},{default:l(()=>[a(F(e.getStateText(s.state)),1)]),_:2},1032,["color"])]),_:1}),t(M,{title:"\u5F00\u59CB\u65F6\u95F4","data-index":"starts_at",width:180},{cell:l(({record:s})=>[a(F(e.formatDateTime(s.starts_at)),1)]),_:1}),t(M,{title:"\u64CD\u4F5C",width:180},{cell:l(({record:s})=>[t(n,null,{default:l(()=>[t(k,{type:"text",size:"small",onClick:v=>e.handleSilence(s)},{default:l(()=>u[13]||(u[13]=[a(" \u9759\u9ED8 ")])),_:2},1032,["onClick"]),t(b,{style:{height:"16px"},direction:"vertical"}),t(V,{content:"\u786E\u5B9A\u8981\u89E3\u51B3\u8BE5\u544A\u8B66\u5417\uFF1F",onOk:v=>e.handleResolve(s)},{default:l(()=>[t(k,{type:"text",status:"success",size:"small"},{default:l(()=>u[14]||(u[14]=[a(" \u89E3\u51B3 ")])),_:1})]),_:2},1032,["onOk"])]),_:2},1024)]),_:1})]),_:1},8,["data","loading","pagination","onPageChange"]),t(g,{visible:e.silenceFormVisible,"onUpdate:visible":u[5]||(u[5]=s=>e.silenceFormVisible=s),title:"\u9759\u9ED8\u544A\u8B66",onBeforeOk:e.handleSubmitSilence},{default:l(()=>[t(y,{ref:"silenceFormRef",model:e.silenceForm},{default:l(()=>[t(I,{field:"duration",label:"\u6301\u7EED\u65F6\u95F4",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u6301\u7EED\u65F6\u95F4"}]},{default:l(()=>[t(r,{modelValue:e.silenceForm.duration,"onUpdate:modelValue":u[3]||(u[3]=s=>e.silenceForm.duration=s),placeholder:"\u8BF7\u9009\u62E9\u6301\u7EED\u65F6\u95F4"},{default:l(()=>[t(d,{value:"30m"},{default:l(()=>u[15]||(u[15]=[a("30\u5206\u949F")])),_:1}),t(d,{value:"1h"},{default:l(()=>u[16]||(u[16]=[a("1\u5C0F\u65F6")])),_:1}),t(d,{value:"2h"},{default:l(()=>u[17]||(u[17]=[a("2\u5C0F\u65F6")])),_:1}),t(d,{value:"6h"},{default:l(()=>u[18]||(u[18]=[a("6\u5C0F\u65F6")])),_:1}),t(d,{value:"12h"},{default:l(()=>u[19]||(u[19]=[a("12\u5C0F\u65F6")])),_:1}),t(d,{value:"1d"},{default:l(()=>u[20]||(u[20]=[a("1\u5929")])),_:1})]),_:1},8,["modelValue"])]),_:1}),t(I,{field:"comment",label:"\u5907\u6CE8",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u5907\u6CE8\u4FE1\u606F"}]},{default:l(()=>[t(w,{modelValue:e.silenceForm.comment,"onUpdate:modelValue":u[4]||(u[4]=s=>e.silenceForm.comment=s),placeholder:"\u8BF7\u8F93\u5165\u5907\u6CE8\u4FE1\u606F"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["visible","onBeforeOk"])])}const Eu=G(pu,[["render",bu],["__scopeId","data-v-fa3e402b"]]),Du=X({name:"AlertRules",props:{refreshInterval:{type:Number,default:6e4},refreshTrigger:{type:Number,default:0}},setup(e){const u=h([]),S=h([]),$=h(!1),B=h({total:0,current:1,pageSize:10}),P=h(),d=h(!1),p=h(!1),r=be({id:"",name:"",target_type:"server",metric:"",description:"",condition:"gt",threshold:0,duration:"0",severity:"warning",notifiers:[],enabled:!0}),I={name:[{required:!0,message:"\u8BF7\u8F93\u5165\u89C4\u5219\u540D\u79F0"}],target_type:[{required:!0,message:"\u8BF7\u9009\u62E9\u76EE\u6807\u7C7B\u578B"}],metric:[{required:!0,message:"\u8BF7\u8F93\u5165\u6307\u6807\u540D\u79F0"}],threshold:[{required:!0,message:"\u8BF7\u8F93\u5165\u9608\u503C"}]},_=h([]),k=h([]),m=h(!1),n=o=>{switch(o){case"critical":return"red";case"warning":return"orange";case"info":return"blue";default:return"gray"}},y=o=>{switch(o){case"critical":return"\u4E25\u91CD";case"warning":return"\u8B66\u544A";case"info":return"\u4FE1\u606F";default:return"\u672A\u77E5"}},c=o=>{switch(o){case"gt":return"\u5927\u4E8E";case"lt":return"\u5C0F\u4E8E";case"gte":return"\u5927\u4E8E\u7B49\u4E8E";case"lte":return"\u5C0F\u4E8E\u7B49\u4E8E";case"eq":return"\u7B49\u4E8E";case"neq":return"\u4E0D\u7B49\u4E8E";default:return o}},D=o=>{switch(o){case"email":return"\u90AE\u4EF6";case"webhook":return"Webhook";case"dingtalk":return"\u9489\u9489";case"wechat":return"\u5FAE\u4FE1";default:return o}},M=o=>{const i=S.value.find(R=>R.id===o);return i?i.name:o},C=async()=>{$.value=!0;try{const o=await qe();o.data&&(u.value=o.data,B.value.total=u.value.length)}catch(o){console.error("\u83B7\u53D6\u544A\u8B66\u89C4\u5219\u5931\u8D25:",o),E.error("\u83B7\u53D6\u544A\u8B66\u89C4\u5219\u5931\u8D25")}finally{$.value=!1}try{const o=await we();o.data&&(S.value=o.data)}catch(o){console.error("\u83B7\u53D6\u901A\u77E5\u5668\u5931\u8D25:",o),E.error("\u83B7\u53D6\u901A\u77E5\u5668\u5931\u8D25")}},b=o=>{B.value.current=o},V=async()=>{m.value=!0;try{const o=await Ae();_.value=o.server_metrics,k.value=o.app_metrics}catch(o){console.error("\u83B7\u53D6\u6307\u6807\u5217\u8868\u5931\u8D25:",o),E.error("\u83B7\u53D6\u6307\u6807\u5217\u8868\u5931\u8D25")}finally{m.value=!1}},A=()=>{p.value=!1,r.id="",r.name="",r.target_type="server",r.metric="",r.description="",r.condition="gt",r.threshold=0,r.duration="5m",r.severity="warning",r.notifiers=[],r.enabled=!0,d.value=!0,_.value.length===0&&k.value.length===0&&V()},w=o=>{p.value=!0,r.id=o.id,r.name=o.name,r.target_type=o.target_type||"server",r.metric=o.metric,r.description=o.description||"",r.condition=o.condition,r.threshold=o.threshold,r.duration=o.duration||"0",r.severity=o.severity,r.notifiers=o.notifiers||[],r.enabled=o.enabled,d.value=!0},g=async()=>{try{await P.value.validate();const o={name:r.name,target_type:r.target_type,metric:r.metric,description:r.description,condition:r.condition,threshold:r.threshold,duration:r.duration,severity:r.severity,notifiers:r.notifiers,enabled:r.enabled};let i;if(p.value)if(i=await Ye(r.id,o),i.data)E.success("\u89C4\u5219\u66F4\u65B0\u6210\u529F"),C();else return E.error("\u66F4\u65B0\u5931\u8D25: \u672A\u77E5\u9519\u8BEF"),!1;else if(i=await je(o),i.data)E.success("\u89C4\u5219\u521B\u5EFA\u6210\u529F"),C();else return E.error("\u521B\u5EFA\u5931\u8D25: \u672A\u77E5\u9519\u8BEF"),!1;return!0}catch(o){return console.error("\u8868\u5355\u9A8C\u8BC1\u5931\u8D25:",o),!1}},s=async o=>{try{(await He(o)).data?(E.success("\u89C4\u5219\u5220\u9664\u6210\u529F"),C()):E.error("\u5220\u9664\u5931\u8D25: \u672A\u77E5\u9519\u8BEF")}catch(i){console.error("\u5220\u9664\u89C4\u5219\u5931\u8D25:",i),E.error("\u5220\u9664\u89C4\u5219\u5931\u8D25")}},v=async o=>{try{(await Je(o.id,{enabled:!o.enabled})).data?(E.success(`\u89C4\u5219${o.enabled?"\u7981\u7528":"\u542F\u7528"}\u6210\u529F`),C()):E.error("\u64CD\u4F5C\u5931\u8D25: \u672A\u77E5\u9519\u8BEF")}catch(i){console.error("\u5207\u6362\u89C4\u5219\u72B6\u6001\u5931\u8D25:",i),E.error("\u64CD\u4F5C\u5931\u8D25")}},z=o=>Ce[o]||o,q=o=>Be[o]||"";L(()=>r.target_type,o=>{r.metric="",(o==="server"&&_.value.length===0||o==="application"&&k.value.length===0)&&V()});let f=null;return L(()=>e.refreshTrigger,()=>{C()}),L(()=>e.refreshInterval,o=>{f&&(clearInterval(f),f=null),o>0&&(f=window.setInterval(()=>{C()},o))}),K(()=>{C(),V(),e.refreshInterval>0&&(f=window.setInterval(()=>{C()},e.refreshInterval))}),ee(()=>{f&&(clearInterval(f),f=null)}),{rules:u,notifiers:S,loading:$,pagination:B,ruleFormRef:P,ruleFormVisible:d,isEdit:p,ruleForm:r,ruleFormRules:I,getSeverityColor:n,getSeverityText:y,getConditionText:c,getNotifierTypeText:D,getNotifierName:M,fetchData:C,onPageChange:b,openAddRuleModal:A,openEditRuleModal:w,handleSubmitRule:g,deleteRule:s,toggleRule:v,serverMetrics:_,appMetrics:k,metricsLoading:m,getMetricChineseName:z,getMetricUnit:q}}}),_u={style:{color:"#999","font-size":"12px"}},hu={style:{color:"#999","margin-left":"8px","font-size":"12px"}},Cu={key:0},Bu={style:{"margin-left":"12px"}};function Au(e,u,S,$,B,P){const d=Ee,p=se,r=x,I=oe,_=ue,k=te,m=ge,n=ve,y=De,c=ie,D=pe,M=ce,C=_e,b=fe,V=Ie,A=Te,w=le,g=ae,s=ye,v=he,z=me,q=Fe;return T(),U("div",null,[t(k,{style:{"margin-bottom":"16px"}},{default:l(()=>[t(_,{span:24},{default:l(()=>[t(I,null,{default:l(()=>[t(p,{type:"primary",onClick:e.openAddRuleModal},{icon:l(()=>[t(d)]),default:l(()=>[u[11]||(u[11]=a(" \u6DFB\u52A0\u89C4\u5219 "))]),_:1},8,["onClick"]),t(p,{onClick:e.fetchData},{icon:l(()=>[t(r)]),default:l(()=>[u[12]||(u[12]=a(" \u5237\u65B0 "))]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1}),t(M,{data:e.rules,loading:e.loading,pagination:e.pagination,onPageChange:e.onPageChange},{columns:l(()=>[t(m,{title:"ID","data-index":"id",width:80}),t(m,{title:"\u89C4\u5219\u540D\u79F0","data-index":"name"}),t(m,{title:"\u76EE\u6807\u7C7B\u578B",width:100},{cell:l(({record:f})=>[t(n,{color:f.target_type==="server"?"blue":"green"},{default:l(()=>[a(F(f.target_type==="server"?"\u670D\u52A1\u5668":"\u5E94\u7528"),1)]),_:2},1032,["color"])]),_:1}),t(m,{title:"\u6307\u6807",width:180},{cell:l(({record:f})=>[a(F(e.getMetricChineseName(f.metric))+" ",1),N("div",_u,F(f.metric),1)]),_:1}),t(m,{title:"\u6761\u4EF6",width:200},{cell:l(({record:f})=>[a(F(e.getConditionText(f.condition))+" "+F(f.threshold)+F(e.getMetricUnit(f.metric)),1)]),_:1}),t(m,{title:"\u4E25\u91CD\u7A0B\u5EA6","data-index":"severity",width:100},{cell:l(({record:f})=>[t(n,{color:e.getSeverityColor(f.severity)},{default:l(()=>[a(F(e.getSeverityText(f.severity)),1)]),_:2},1032,["color"])]),_:1}),t(m,{title:"\u901A\u77E5","data-index":"notifiers",width:150},{cell:l(({record:f})=>[t(I,{wrap:""},{default:l(()=>[(T(!0),U(O,null,J(f.notifiers,o=>(T(),W(n,{key:o,size:"small"},{default:l(()=>[a(F(e.getNotifierName(o)),1)]),_:2},1024))),128)),!f.notifiers||f.notifiers.length===0?(T(),W(n,{key:0,size:"small"},{default:l(()=>u[13]||(u[13]=[a(" \u65E0 ")])),_:1})):Y("",!0)]),_:2},1024)]),_:1}),t(m,{title:"\u72B6\u6001","data-index":"enabled",width:80},{cell:l(({record:f})=>[t(n,{color:f.enabled?"green":"gray"},{default:l(()=>[a(F(f.enabled?"\u542F\u7528":"\u7981\u7528"),1)]),_:2},1032,["color"])]),_:1}),t(m,{title:"\u64CD\u4F5C",width:240,fixed:"right"},{cell:l(({record:f})=>[t(I,null,{default:l(()=>[t(y,{"model-value":f.enabled,onChange:o=>e.toggleRule(f)},null,8,["model-value","onChange"]),t(c,{style:{height:"16px"},direction:"vertical"}),t(p,{type:"text",size:"small",onClick:o=>e.openEditRuleModal(f)},{default:l(()=>u[14]||(u[14]=[a(" \u7F16\u8F91 ")])),_:2},1032,["onClick"]),t(c,{style:{height:"16px"},direction:"vertical"}),t(D,{content:"\u786E\u5B9A\u8981\u5220\u9664\u8BE5\u89C4\u5219\u5417\uFF1F",onOk:o=>e.deleteRule(f.id)},{default:l(()=>[t(p,{type:"text",status:"danger",size:"small"},{default:l(()=>u[15]||(u[15]=[a(" \u5220\u9664 ")])),_:1})]),_:2},1032,["onOk"])]),_:2},1024)]),_:1})]),_:1},8,["data","loading","pagination","onPageChange"]),t(q,{visible:e.ruleFormVisible,"onUpdate:visible":u[10]||(u[10]=f=>e.ruleFormVisible=f),title:e.isEdit?"\u7F16\u8F91\u544A\u8B66\u89C4\u5219":"\u6DFB\u52A0\u544A\u8B66\u89C4\u5219",onBeforeOk:e.handleSubmitRule},{default:l(()=>[t(z,{ref:"ruleFormRef",model:e.ruleForm,rules:e.ruleFormRules},{default:l(()=>[t(b,{field:"name",label:"\u89C4\u5219\u540D\u79F0"},{default:l(()=>[t(C,{modelValue:e.ruleForm.name,"onUpdate:modelValue":u[0]||(u[0]=f=>e.ruleForm.name=f),placeholder:"\u8BF7\u8F93\u5165\u89C4\u5219\u540D\u79F0"},null,8,["modelValue"])]),_:1}),t(b,{field:"target_type",label:"\u76EE\u6807\u7C7B\u578B"},{default:l(()=>[t(A,{modelValue:e.ruleForm.target_type,"onUpdate:modelValue":u[1]||(u[1]=f=>e.ruleForm.target_type=f)},{default:l(()=>[t(V,{value:"server"},{default:l(()=>u[16]||(u[16]=[a("\u670D\u52A1\u5668")])),_:1}),t(V,{value:"application"},{default:l(()=>u[17]||(u[17]=[a("\u5E94\u7528")])),_:1})]),_:1},8,["modelValue"])]),_:1}),t(b,{field:"metric",label:"\u6307\u6807"},{default:l(()=>[t(g,{modelValue:e.ruleForm.metric,"onUpdate:modelValue":u[2]||(u[2]=f=>e.ruleForm.metric=f),placeholder:"\u8BF7\u9009\u62E9\u6307\u6807\u540D\u79F0",loading:e.metricsLoading},{default:l(()=>[(T(!0),U(O,null,J(e.ruleForm.target_type==="server"?e.serverMetrics:e.appMetrics,f=>(T(),W(w,{key:f,value:f,label:e.getMetricChineseName(f)},{default:l(()=>[a(F(e.getMetricChineseName(f))+" ",1),N("span",hu,"("+F(f)+")",1)]),_:2},1032,["value","label"]))),128))]),_:1},8,["modelValue","loading"])]),_:1}),t(b,{field:"description",label:"\u63CF\u8FF0"},{default:l(()=>[t(s,{modelValue:e.ruleForm.description,"onUpdate:modelValue":u[3]||(u[3]=f=>e.ruleForm.description=f),placeholder:"\u8BF7\u8F93\u5165\u89C4\u5219\u63CF\u8FF0"},null,8,["modelValue"])]),_:1}),t(b,{field:"condition",label:"\u6761\u4EF6"},{default:l(()=>[t(I,null,{default:l(()=>[t(g,{modelValue:e.ruleForm.condition,"onUpdate:modelValue":u[4]||(u[4]=f=>e.ruleForm.condition=f),style:{width:"100px"}},{default:l(()=>[t(w,{value:"gt"},{default:l(()=>u[18]||(u[18]=[a("\u5927\u4E8E")])),_:1}),t(w,{value:"lt"},{default:l(()=>u[19]||(u[19]=[a("\u5C0F\u4E8E")])),_:1}),t(w,{value:"gte"},{default:l(()=>u[20]||(u[20]=[a("\u5927\u4E8E\u7B49\u4E8E")])),_:1}),t(w,{value:"lte"},{default:l(()=>u[21]||(u[21]=[a("\u5C0F\u4E8E\u7B49\u4E8E")])),_:1}),t(w,{value:"eq"},{default:l(()=>u[22]||(u[22]=[a("\u7B49\u4E8E")])),_:1}),t(w,{value:"neq"},{default:l(()=>u[23]||(u[23]=[a("\u4E0D\u7B49\u4E8E")])),_:1}),t(w,{value:"change_rate"},{default:l(()=>u[24]||(u[24]=[a("\u53D8\u5316\u7387")])),_:1})]),_:1},8,["modelValue"]),t(v,{modelValue:e.ruleForm.threshold,"onUpdate:modelValue":u[5]||(u[5]=f=>e.ruleForm.threshold=f),placeholder:"\u9608\u503C"},null,8,["modelValue"]),e.ruleForm.metric&&e.getMetricUnit(e.ruleForm.metric)?(T(),U("span",Cu,F(e.getMetricUnit(e.ruleForm.metric)),1)):Y("",!0)]),_:1})]),_:1}),t(b,{field:"duration",label:"\u6301\u7EED\u65F6\u95F4"},{default:l(()=>[t(g,{modelValue:e.ruleForm.duration,"onUpdate:modelValue":u[6]||(u[6]=f=>e.ruleForm.duration=f)},{default:l(()=>[t(w,{value:"0"},{default:l(()=>u[25]||(u[25]=[a("\u7ACB\u5373\u89E6\u53D1")])),_:1}),t(w,{value:"1m"},{default:l(()=>u[26]||(u[26]=[a("\u6301\u7EED1\u5206\u949F")])),_:1}),t(w,{value:"5m"},{default:l(()=>u[27]||(u[27]=[a("\u6301\u7EED5\u5206\u949F")])),_:1}),t(w,{value:"10m"},{default:l(()=>u[28]||(u[28]=[a("\u6301\u7EED10\u5206\u949F")])),_:1}),t(w,{value:"30m"},{default:l(()=>u[29]||(u[29]=[a("\u6301\u7EED30\u5206\u949F")])),_:1}),t(w,{value:"1h"},{default:l(()=>u[30]||(u[30]=[a("\u6301\u7EED1\u5C0F\u65F6")])),_:1})]),_:1},8,["modelValue"])]),_:1}),t(b,{field:"severity",label:"\u4E25\u91CD\u7A0B\u5EA6"},{default:l(()=>[t(g,{modelValue:e.ruleForm.severity,"onUpdate:modelValue":u[7]||(u[7]=f=>e.ruleForm.severity=f)},{default:l(()=>[t(w,{value:"critical"},{default:l(()=>u[31]||(u[31]=[a("\u4E25\u91CD")])),_:1}),t(w,{value:"warning"},{default:l(()=>u[32]||(u[32]=[a("\u8B66\u544A")])),_:1}),t(w,{value:"info"},{default:l(()=>u[33]||(u[33]=[a("\u4FE1\u606F")])),_:1})]),_:1},8,["modelValue"])]),_:1}),t(b,{field:"notifiers",label:"\u901A\u77E5"},{default:l(()=>[t(g,{modelValue:e.ruleForm.notifiers,"onUpdate:modelValue":u[8]||(u[8]=f=>e.ruleForm.notifiers=f),placeholder:"\u8BF7\u9009\u62E9\u901A\u77E5\u65B9\u5F0F",multiple:"","allow-create":""},{default:l(()=>[(T(!0),U(O,null,J(e.notifiers,f=>(T(),W(w,{key:f.id,value:f.id,label:f.name},{default:l(()=>[a(F(f.name)+" ("+F(e.getNotifierTypeText(f.type))+") ",1)]),_:2},1032,["value","label"]))),128))]),_:1},8,["modelValue"])]),_:1}),t(b,{field:"enabled",label:"\u72B6\u6001"},{default:l(()=>[t(y,{modelValue:e.ruleForm.enabled,"onUpdate:modelValue":u[9]||(u[9]=f=>e.ruleForm.enabled=f)},null,8,["modelValue"]),N("span",Bu,F(e.ruleForm.enabled?"\u542F\u7528":"\u7981\u7528"),1)]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["visible","title","onBeforeOk"])])}const wu=G(Du,[["render",Au]]),ku=X({name:"NotifierManager",props:{refreshInterval:{type:Number,default:6e4},refreshTrigger:{type:Number,default:0}},setup(e){const u=h([]),S=h(!1),$=h({total:0,current:1,pageSize:10}),B=ne(()=>{const{current:g,pageSize:s}=$.value,v=(g-1)*s,z=v+s,q=u.value;return q.slice(v,Math.min(z,q.length))}),P=h(),d=h(!1),p=h(!1),r=be({id:"",name:"",type:"email",config:{},enabled:!0}),I={name:[{required:!0,message:"\u8BF7\u8F93\u5165\u901A\u77E5\u5668\u540D\u79F0"}],type:[{required:!0,message:"\u8BF7\u9009\u62E9\u901A\u77E5\u5668\u7C7B\u578B"}]},_=g=>{switch(g){case"email":return"\u90AE\u4EF6";case"webhook":return"Webhook";case"dingtalk":return"\u9489\u9489";case"wechat":return"\u5FAE\u4FE1";default:return g}},k=g=>{if(!g)return"-";try{const s=new URL(g);return`${s.protocol}//${s.hostname}/...`}catch{return g.length>20?g.substring(0,10)+"..."+g.substring(g.length-10):g}},m=g=>{if(!g)return"-";const s=typeof g=="number"?new Date(g*1e3):new Date(g);return re(s).format("YYYY-MM-DD HH:mm:ss")},n=async()=>{S.value=!0;try{const g=await we();g.data&&(u.value=g.data,$.value.total=u.value.length)}catch(g){console.error("\u83B7\u53D6\u901A\u77E5\u5668\u5217\u8868\u5931\u8D25:",g),E.error("\u83B7\u53D6\u901A\u77E5\u5668\u5217\u8868\u5931\u8D25")}finally{S.value=!1}},y=g=>{$.value.current=g},c=g=>{switch(r.config={},String(g)){case"email":r.config={recipients:"",subject_prefix:"[\u76D1\u63A7\u544A\u8B66]"};break;case"webhook":r.config={url:"",method:"POST",max_alerts:10};break;case"dingtalk":r.config={webhook_url:"",secret:""};break;case"wechat":r.config={webhook_url:"",message_type:"text"};break}},D=()=>{p.value=!1,r.id="",r.name="",r.type="email",r.enabled=!0,c("email"),d.value=!0},M=g=>{p.value=!0,r.id=g.id,r.name=g.name,r.type=g.type,r.config={...g.config},r.enabled=g.enabled,d.value=!0},C=async()=>{try{if(p.value)if((await Ge(r.id,{name:r.name,type:r.type,config:r.config,enabled:r.enabled})).data)E.success("\u66F4\u65B0\u901A\u77E5\u5668\u6210\u529F"),n();else return E.error("\u66F4\u65B0\u901A\u77E5\u5668\u5931\u8D25"),!1;else if((await Xe({name:r.name,type:r.type,config:r.config,enabled:r.enabled})).data)E.success("\u521B\u5EFA\u901A\u77E5\u5668\u6210\u529F"),n();else return E.error("\u521B\u5EFA\u901A\u77E5\u5668\u5931\u8D25"),!1}catch(g){return console.error("\u63D0\u4EA4\u901A\u77E5\u5668\u5931\u8D25:",g),E.error("\u63D0\u4EA4\u901A\u77E5\u5668\u5931\u8D25"),!1}},b=async g=>{try{(await Ke(g.id)).data?(E.success("\u5220\u9664\u901A\u77E5\u5668\u6210\u529F"),n()):E.error("\u5220\u9664\u901A\u77E5\u5668\u5931\u8D25")}catch(s){console.error("\u5220\u9664\u901A\u77E5\u5668\u5931\u8D25:",s),E.error("\u5220\u9664\u901A\u77E5\u5668\u5931\u8D25")}},V=async g=>{try{(await Qe(g.id)).data?E.success("\u6D4B\u8BD5\u901A\u77E5\u5DF2\u53D1\u9001"):E.error("\u6D4B\u8BD5\u901A\u77E5\u53D1\u9001\u5931\u8D25")}catch(s){console.error("\u6D4B\u8BD5\u901A\u77E5\u5668\u5931\u8D25:",s),E.error("\u6D4B\u8BD5\u901A\u77E5\u5668\u5931\u8D25")}},A=async(g,s)=>{try{(await Ze(g.id,{enabled:s})).data?(E.success(`${s?"\u542F\u7528":"\u7981\u7528"}\u901A\u77E5\u5668\u6210\u529F`),n()):E.error(`${s?"\u542F\u7528":"\u7981\u7528"}\u901A\u77E5\u5668\u5931\u8D25`)}catch(v){console.error(`${s?"\u542F\u7528":"\u7981\u7528"}\u901A\u77E5\u5668\u5931\u8D25:`,v),E.error(`${s?"\u542F\u7528":"\u7981\u7528"}\u901A\u77E5\u5668\u5931\u8D25`)}};let w=null;return L(()=>e.refreshTrigger,()=>{n()}),L(()=>e.refreshInterval,g=>{w&&(clearInterval(w),w=null),g>0&&(w=window.setInterval(()=>{n()},g))}),K(()=>{n()}),ee(()=>{w&&(clearInterval(w),w=null)}),{notifiers:u,tableData:B,loading:S,pagination:$,notifierFormRef:P,notifierFormVisible:d,isEdit:p,notifierForm:r,formRules:I,getNotifierTypeText:_,maskUrl:k,formatDateTime:m,fetchData:n,onPageChange:y,handleTypeChange:c,openAddNotifierModal:D,openEditNotifierModal:M,handleSubmitNotifier:C,deleteNotifierAction:b,testNotifierAction:V,toggleNotifierAction:A}}}),Vu={style:{"max-width":"300px","word-break":"break-all"}},Nu={style:{"margin-left":"12px"}};function $u(e,u,S,$,B,P){const d=Ee,p=se,r=x,I=oe,_=ue,k=te,m=ge,n=ve,y=De,c=ie,D=pe,M=ce,C=_e,b=fe,V=le,A=ae,w=he,g=me,s=Fe;return T(),U("div",null,[t(k,{style:{"margin-bottom":"16px"}},{default:l(()=>[t(_,{span:24},{default:l(()=>[t(I,null,{default:l(()=>[t(p,{type:"primary",onClick:e.openAddNotifierModal},{icon:l(()=>[t(d)]),default:l(()=>[u[13]||(u[13]=a(" \u6DFB\u52A0\u901A\u77E5\u5668 "))]),_:1},8,["onClick"]),t(p,{onClick:e.fetchData},{icon:l(()=>[t(r)]),default:l(()=>[u[14]||(u[14]=a(" \u5237\u65B0 "))]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1}),t(M,{data:e.tableData,loading:e.loading,pagination:e.pagination,onPageChange:e.onPageChange},{columns:l(()=>[t(m,{title:"ID","data-index":"id",width:80}),t(m,{title:"\u540D\u79F0","data-index":"name"}),t(m,{title:"\u7C7B\u578B","data-index":"type",width:120},{cell:l(({record:v})=>[t(n,null,{default:l(()=>[a(F(e.getNotifierTypeText(v.type)),1)]),_:2},1024)]),_:1}),t(m,{title:"\u914D\u7F6E",width:300},{cell:l(({record:v})=>[N("div",Vu,[v.type==="email"?(T(),U(O,{key:0},[a(" \u6536\u4EF6\u4EBA: "+F(v.config.recipients||"-"),1)],64)):v.type==="webhook"?(T(),U(O,{key:1},[a(" URL: "+F(v.config.url||"-"),1)],64)):v.type==="dingtalk"?(T(),U(O,{key:2},[a(" Webhook: "+F(e.maskUrl(v.config.webhook_url)||"-"),1)],64)):v.type==="wechat"?(T(),U(O,{key:3},[a(" Webhook: "+F(e.maskUrl(v.config.webhook_url)||"-"),1)],64)):(T(),U(O,{key:4},[a(" \u914D\u7F6E\u8BE6\u60C5\u8BF7\u7F16\u8F91\u67E5\u770B ")],64))])]),_:1}),t(m,{title:"\u72B6\u6001","data-index":"enabled",width:80},{cell:l(({record:v})=>[t(n,{color:v.enabled?"green":"gray"},{default:l(()=>[a(F(v.enabled?"\u542F\u7528":"\u7981\u7528"),1)]),_:2},1032,["color"])]),_:1}),t(m,{title:"\u521B\u5EFA\u65F6\u95F4","data-index":"created_at",width:180},{cell:l(({record:v})=>[a(F(e.formatDateTime(v.created_at)),1)]),_:1}),t(m,{title:"\u64CD\u4F5C",width:240,fixed:"right"},{cell:l(({record:v})=>[t(I,null,{default:l(()=>[t(y,{"model-value":v.enabled,onChange:z=>e.toggleNotifierAction(v,Boolean(z))},null,8,["model-value","onChange"]),t(c,{style:{height:"16px"},direction:"vertical"}),t(p,{type:"text",size:"small",onClick:z=>e.testNotifierAction(v)},{default:l(()=>u[15]||(u[15]=[a(" \u6D4B\u8BD5 ")])),_:2},1032,["onClick"]),t(c,{style:{height:"16px"},direction:"vertical"}),t(p,{type:"text",size:"small",onClick:z=>e.openEditNotifierModal(v)},{default:l(()=>u[16]||(u[16]=[a(" \u7F16\u8F91 ")])),_:2},1032,["onClick"]),t(c,{style:{height:"16px"},direction:"vertical"}),t(D,{content:"\u786E\u5B9A\u8981\u5220\u9664\u8BE5\u901A\u77E5\u5668\u5417\uFF1F",onOk:z=>e.deleteNotifierAction(v)},{default:l(()=>[t(p,{type:"text",status:"danger",size:"small"},{default:l(()=>u[17]||(u[17]=[a(" \u5220\u9664 ")])),_:1})]),_:2},1032,["onOk"])]),_:2},1024)]),_:1})]),_:1},8,["data","loading","pagination","onPageChange"]),t(s,{visible:e.notifierFormVisible,"onUpdate:visible":u[12]||(u[12]=v=>e.notifierFormVisible=v),title:e.isEdit?"\u7F16\u8F91\u901A\u77E5\u5668":"\u6DFB\u52A0\u901A\u77E5\u5668",onBeforeOk:e.handleSubmitNotifier},{default:l(()=>[t(g,{ref:"notifierFormRef",model:e.notifierForm,rules:e.formRules},{default:l(()=>[t(b,{field:"name",label:"\u540D\u79F0"},{default:l(()=>[t(C,{modelValue:e.notifierForm.name,"onUpdate:modelValue":u[0]||(u[0]=v=>e.notifierForm.name=v),placeholder:"\u8BF7\u8F93\u5165\u901A\u77E5\u5668\u540D\u79F0"},null,8,["modelValue"])]),_:1}),t(b,{field:"type",label:"\u7C7B\u578B"},{default:l(()=>[t(A,{modelValue:e.notifierForm.type,"onUpdate:modelValue":u[1]||(u[1]=v=>e.notifierForm.type=v),disabled:e.isEdit,onChange:e.handleTypeChange},{default:l(()=>[t(V,{value:"email"},{default:l(()=>u[18]||(u[18]=[a("\u90AE\u4EF6")])),_:1}),t(V,{value:"webhook"},{default:l(()=>u[19]||(u[19]=[a("Webhook")])),_:1}),t(V,{value:"dingtalk"},{default:l(()=>u[20]||(u[20]=[a("\u9489\u9489")])),_:1}),t(V,{value:"wechat"},{default:l(()=>u[21]||(u[21]=[a("\u5FAE\u4FE1")])),_:1})]),_:1},8,["modelValue","disabled","onChange"])]),_:1}),e.notifierForm.type==="email"?(T(),U(O,{key:0},[t(b,{field:"config.recipients",label:"\u6536\u4EF6\u4EBA"},{default:l(()=>[t(C,{modelValue:e.notifierForm.config.recipients,"onUpdate:modelValue":u[2]||(u[2]=v=>e.notifierForm.config.recipients=v),placeholder:"\u8BF7\u8F93\u5165\u6536\u4EF6\u4EBA\u90AE\u7BB1\uFF0C\u591A\u4E2A\u7528\u9017\u53F7\u5206\u9694"},null,8,["modelValue"])]),_:1}),t(b,{field:"config.subject_prefix",label:"\u4E3B\u9898\u524D\u7F00"},{default:l(()=>[t(C,{modelValue:e.notifierForm.config.subject_prefix,"onUpdate:modelValue":u[3]||(u[3]=v=>e.notifierForm.config.subject_prefix=v),placeholder:"\u8BF7\u8F93\u5165\u4E3B\u9898\u524D\u7F00"},null,8,["modelValue"])]),_:1})],64)):Y("",!0),e.notifierForm.type==="webhook"?(T(),U(O,{key:1},[t(b,{field:"config.url",label:"URL"},{default:l(()=>[t(C,{modelValue:e.notifierForm.config.url,"onUpdate:modelValue":u[4]||(u[4]=v=>e.notifierForm.config.url=v),placeholder:"\u8BF7\u8F93\u5165Webhook URL"},null,8,["modelValue"])]),_:1}),t(b,{field:"config.method",label:"\u8BF7\u6C42\u65B9\u6CD5"},{default:l(()=>[t(A,{modelValue:e.notifierForm.config.method,"onUpdate:modelValue":u[5]||(u[5]=v=>e.notifierForm.config.method=v),"default-value":"POST"},{default:l(()=>[t(V,{value:"POST"},{default:l(()=>u[22]||(u[22]=[a("POST")])),_:1}),t(V,{value:"PUT"},{default:l(()=>u[23]||(u[23]=[a("PUT")])),_:1})]),_:1},8,["modelValue"])]),_:1}),t(b,{field:"config.max_alerts",label:"\u6700\u5927\u544A\u8B66\u6570"},{default:l(()=>[t(w,{modelValue:e.notifierForm.config.max_alerts,"onUpdate:modelValue":u[6]||(u[6]=v=>e.notifierForm.config.max_alerts=v),min:1,max:100},null,8,["modelValue"])]),_:1})],64)):Y("",!0),e.notifierForm.type==="dingtalk"?(T(),U(O,{key:2},[t(b,{field:"config.webhook_url",label:"Webhook URL"},{default:l(()=>[t(C,{modelValue:e.notifierForm.config.webhook_url,"onUpdate:modelValue":u[7]||(u[7]=v=>e.notifierForm.config.webhook_url=v),placeholder:"\u8BF7\u8F93\u5165\u9489\u9489Webhook URL"},null,8,["modelValue"])]),_:1}),t(b,{field:"config.secret",label:"\u52A0\u7B7E\u5BC6\u94A5"},{default:l(()=>[t(C,{modelValue:e.notifierForm.config.secret,"onUpdate:modelValue":u[8]||(u[8]=v=>e.notifierForm.config.secret=v),placeholder:"\u8BF7\u8F93\u5165\u52A0\u7B7E\u5BC6\u94A5(\u53EF\u9009)"},null,8,["modelValue"])]),_:1})],64)):Y("",!0),e.notifierForm.type==="wechat"?(T(),U(O,{key:3},[t(b,{field:"config.webhook_url",label:"Webhook URL"},{default:l(()=>[t(C,{modelValue:e.notifierForm.config.webhook_url,"onUpdate:modelValue":u[9]||(u[9]=v=>e.notifierForm.config.webhook_url=v),placeholder:"\u8BF7\u8F93\u5165\u4F01\u4E1A\u5FAE\u4FE1Webhook URL"},null,8,["modelValue"])]),_:1}),t(b,{field:"config.message_type",label:"\u6D88\u606F\u7C7B\u578B"},{default:l(()=>[t(A,{modelValue:e.notifierForm.config.message_type,"onUpdate:modelValue":u[10]||(u[10]=v=>e.notifierForm.config.message_type=v),"default-value":"text"},{default:l(()=>[t(V,{value:"text"},{default:l(()=>u[24]||(u[24]=[a("\u6587\u672C")])),_:1}),t(V,{value:"markdown"},{default:l(()=>u[25]||(u[25]=[a("Markdown")])),_:1})]),_:1},8,["modelValue"])]),_:1})],64)):Y("",!0),t(b,{field:"enabled",label:"\u72B6\u6001"},{default:l(()=>[t(y,{modelValue:e.notifierForm.enabled,"onUpdate:modelValue":u[11]||(u[11]=v=>e.notifierForm.enabled=v)},null,8,["modelValue"]),N("span",Nu,F(e.notifierForm.enabled?"\u542F\u7528":"\u7981\u7528"),1)]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["visible","title","onBeforeOk"])])}const Iu=G(ku,[["render",$u]]),Tu=X({name:"MonitorDashboard",components:{SystemOverview:du,MetricChart:vu,AlertTable:Eu,AlertRules:wu,NotifierManager:Iu,IconRefresh:x},setup(){const e=h(3e4),u=h(0),S=h([]),$=h(""),B=h(!1),d=h((()=>{try{const n=window.location.hostname;return n==="localhost"||n==="127.0.0.1"?!0:/^(\d{1,3}\.){3}\d{1,3}$/.test(n)?n.startsWith("10.")||/^172\.(1[6-9]|2\d|3[0-1])\./.test(n)||n.startsWith("192.168."):!1}catch(n){return console.error("\u5224\u65AD\u8BBF\u95EE\u65B9\u5F0F\u51FA\u9519:",n),!1}})()?"internal":"public"),p=ne(()=>{var c;if(!$.value)return null;const n=S.value.find(D=>D.id===$.value);if(!n)return null;const y=JSON.parse(JSON.stringify(n));return d.value==="public"&&((c=n.metadata)==null?void 0:c.public_ip)&&(y.address=n.metadata.public_ip),y}),r=async()=>{B.value=!0;try{const n=await eu("aio-service");n.data&&(S.value=n.data)}catch(n){console.error("\u83B7\u53D6\u670D\u52A1\u8282\u70B9\u5217\u8868\u5931\u8D25:",n),E.error("\u83B7\u53D6\u670D\u52A1\u8282\u70B9\u5217\u8868\u5931\u8D25")}finally{B.value=!1}},I=n=>{const y=String(n),c=S.value.find(D=>D.id===y);c?E.success(`\u5DF2\u5207\u6362\u5230\u8282\u70B9: ${c.name} (${c.address})`):E.success("\u5DF2\u5207\u6362\u5230\u5F53\u524D\u8282\u70B9"),u.value+=1},_=()=>{const n=p.value;n&&(E.success(`\u5DF2\u5207\u6362\u5230${d.value==="internal"?"\u5185\u7F51":"\u516C\u7F51"}IP: ${n.address}`),u.value+=1)},k=()=>{u.value+=1,E.success("\u6B63\u5728\u5237\u65B0\u6570\u636E...")},m=n=>{const y=Number(n);E.success(`\u5237\u65B0\u95F4\u9694\u5DF2\u66F4\u65B0\u4E3A${y===5e3?"5\u79D2":y===1e4?"10\u79D2":y===3e4?"30\u79D2":y===6e4?"1\u5206\u949F":"5\u5206\u949F"}`),u.value+=1};return L(()=>e.value,()=>{r()}),K(()=>{r()}),{refreshInterval:e,refreshTrigger:u,serviceNodes:S,selectedNodeId:$,selectedNodeWithIp:p,ipType:d,loadingNodes:B,refreshNow:k,onRefreshIntervalChange:m,onNodeChange:I,onIpTypeChange:_}}});const Mu={class:"container"},Su={class:"tab-content"},Uu={class:"card-title-with-selector"},Ru={class:"refresh-selector"},Pu={class:"chart-container"},Lu={class:"tab-content"},Ou={class:"tab-content"},zu={class:"tab-content"};function Wu(e,u,S,$,B,P){const d=le,p=ae,r=x,I=se,_=Z("SystemOverview"),k=de,m=ie,n=Z("MetricChart"),y=ue,c=te,D=Me,M=Z("AlertTable"),C=Z("AlertRules"),b=Z("NotifierManager"),V=Se;return T(),U("div",Mu,[t(V,{"default-active-key":"overview"},{default:l(()=>[t(D,{key:"overview",title:"\u7CFB\u7EDF\u6982\u89C8"},{default:l(()=>[N("div",Su,[t(k,{class:"mb-4"},{title:l(()=>[N("div",Uu,[u[15]||(u[15]=N("span",null,"\u7CFB\u7EDF\u8D44\u6E90",-1)),N("div",Ru,[u[12]||(u[12]=N("span",{class:"node-selector-label"},"\u8282\u70B9\u9009\u62E9\uFF1A",-1)),t(p,{modelValue:e.selectedNodeId,"onUpdate:modelValue":u[0]||(u[0]=A=>e.selectedNodeId=A),style:{width:"200px"},size:"small",loading:e.loadingNodes,onChange:e.onNodeChange},{default:l(()=>[t(d,{value:""},{default:l(()=>u[3]||(u[3]=[a("\u5F53\u524D\u8282\u70B9")])),_:1}),(T(!0),U(O,null,J(e.serviceNodes,A=>(T(),W(d,{key:A.id,value:A.id},{default:l(()=>[a(F(A.name)+" ("+F(A.address)+") ",1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue","loading","onChange"]),u[13]||(u[13]=N("span",{class:"ip-type-label",style:{"margin-left":"16px"}},"IP\u7C7B\u578B\uFF1A",-1)),t(p,{modelValue:e.ipType,"onUpdate:modelValue":u[1]||(u[1]=A=>e.ipType=A),style:{width:"100px"},size:"small",disabled:!e.selectedNodeId,onChange:e.onIpTypeChange},{default:l(()=>[t(d,{value:"internal"},{default:l(()=>u[4]||(u[4]=[a("\u5185\u7F51IP")])),_:1}),t(d,{value:"public"},{default:l(()=>u[5]||(u[5]=[a("\u516C\u7F51IP")])),_:1})]),_:1},8,["modelValue","disabled","onChange"]),u[14]||(u[14]=N("span",{class:"refresh-label",style:{"margin-left":"16px"}},"\u5237\u65B0\u95F4\u9694\uFF1A",-1)),t(p,{modelValue:e.refreshInterval,"onUpdate:modelValue":u[2]||(u[2]=A=>e.refreshInterval=A),style:{width:"120px"},size:"small",onChange:e.onRefreshIntervalChange},{default:l(()=>[t(d,{value:5e3},{default:l(()=>u[6]||(u[6]=[a("5\u79D2")])),_:1}),t(d,{value:1e4},{default:l(()=>u[7]||(u[7]=[a("10\u79D2")])),_:1}),t(d,{value:3e4},{default:l(()=>u[8]||(u[8]=[a("30\u79D2")])),_:1}),t(d,{value:6e4},{default:l(()=>u[9]||(u[9]=[a("1\u5206\u949F")])),_:1}),t(d,{value:3e5},{default:l(()=>u[10]||(u[10]=[a("5\u5206\u949F")])),_:1})]),_:1},8,["modelValue","onChange"]),t(I,{type:"text",size:"small",class:"refresh-button",onClick:e.refreshNow},{icon:l(()=>[t(r)]),default:l(()=>[u[11]||(u[11]=a(" \u7ACB\u5373\u5237\u65B0 "))]),_:1},8,["onClick"])])])]),default:l(()=>[t(_,{"refresh-interval":e.refreshInterval,"refresh-trigger":e.refreshTrigger,"selected-node":e.selectedNodeWithIp},null,8,["refresh-interval","refresh-trigger","selected-node"])]),_:1}),t(m,{style:{margin:"0"}}),N("div",Pu,[t(c,{gutter:16},{default:l(()=>[t(y,{span:12,xs:24,md:12,lg:12,class:"mb-4"},{default:l(()=>[t(n,{title:"CPU\u4F7F\u7528\u7387\u8D8B\u52BF",metrics:"cpu.usage","refresh-interval":e.refreshInterval,"refresh-trigger":e.refreshTrigger,"chart-type":"line",colors:["#3370ff"],"selected-node":e.selectedNodeWithIp},null,8,["refresh-interval","refresh-trigger","selected-node"])]),_:1}),t(y,{span:12,xs:24,md:12,lg:12,class:"mb-4"},{default:l(()=>[t(n,{title:"\u5185\u5B58\u4F7F\u7528\u7387\u8D8B\u52BF",metrics:"memory.usage","refresh-interval":e.refreshInterval,"refresh-trigger":e.refreshTrigger,"chart-type":"line",colors:["#14c9c9"],"selected-node":e.selectedNodeWithIp},null,8,["refresh-interval","refresh-trigger","selected-node"])]),_:1})]),_:1}),t(c,{gutter:16},{default:l(()=>[t(y,{span:12,xs:24,md:12,lg:12,class:"mb-4"},{default:l(()=>[t(n,{title:"\u78C1\u76D8I/O",metrics:"disk.io.read,disk.io.write","refresh-interval":e.refreshInterval,"refresh-trigger":e.refreshTrigger,"chart-type":"line",colors:["#168cff","#ff7d00"],"selected-node":e.selectedNodeWithIp},null,8,["refresh-interval","refresh-trigger","selected-node"])]),_:1}),t(y,{span:12,xs:24,md:12,lg:12,class:"mb-4"},{default:l(()=>[t(n,{title:"\u7F51\u7EDC\u6D41\u91CF",metrics:"net.in,net.out","refresh-interval":e.refreshInterval,"refresh-trigger":e.refreshTrigger,"chart-type":"line",colors:["#00b42a","#f53f3f"],"selected-node":e.selectedNodeWithIp},null,8,["refresh-interval","refresh-trigger","selected-node"])]),_:1})]),_:1})])])]),_:1}),t(D,{key:"alerts",title:"\u6D3B\u8DC3\u544A\u8B66"},{default:l(()=>[N("div",Lu,[t(k,null,{default:l(()=>[t(M,{"refresh-interval":e.refreshInterval,"refresh-trigger":e.refreshTrigger},null,8,["refresh-interval","refresh-trigger"])]),_:1})])]),_:1}),t(D,{key:"rules",title:"\u544A\u8B66\u89C4\u5219"},{default:l(()=>[N("div",Ou,[t(k,null,{default:l(()=>[t(C,{"refresh-interval":e.refreshInterval,"refresh-trigger":e.refreshTrigger},null,8,["refresh-interval","refresh-trigger"])]),_:1})])]),_:1}),t(D,{key:"notifiers",title:"\u901A\u77E5\u7BA1\u7406"},{default:l(()=>[N("div",zu,[t(k,null,{default:l(()=>[t(b,{"refresh-interval":e.refreshInterval,"refresh-trigger":e.refreshTrigger},null,8,["refresh-interval","refresh-trigger"])]),_:1})])]),_:1})]),_:1})])}const nt=G(Tu,[["render",Wu],["__scopeId","data-v-467981bb"]]);export{nt as default};
