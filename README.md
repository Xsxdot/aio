# AIO æœåŠ¡

![License](https://img.shields.io/badge/license-Apache%202.0-blue.svg)
![Go Version](https://img.shields.io/badge/go-1.24+-blue.svg)

AIO æ˜¯ä¸€ä¸ªåŸºäº Go è¯­è¨€çš„å¤šåŠŸèƒ½æœåŠ¡æ¡†æ¶ï¼Œæä¾›äº†è®¤è¯ç®¡ç†ã€åˆ†å¸ƒå¼åè°ƒã€é…ç½®ç®¡ç†ã€æ¶ˆæ¯é˜Ÿåˆ—ç­‰æ ¸å¿ƒåŠŸèƒ½ï¼Œå¸®åŠ©æ‚¨å¿«é€Ÿæ„å»ºå¯é ã€é«˜æ€§èƒ½çš„åˆ†å¸ƒå¼åº”ç”¨ã€‚é€šè¿‡å°†å¸¸ç”¨åŸºç¡€æœåŠ¡å†…ç½®åˆ°å•ä¸€åº”ç”¨ä¸­ï¼ŒAIOæ—¨åœ¨ç®€åŒ–ä¸­å°é¡¹ç›®çš„ç¯å¢ƒä¾èµ–ï¼Œæä¾›ä¸°å¯Œçš„å·¥å…·é›†ï¼Œé™ä½å¼€å‘å’Œè¿ç»´æˆæœ¬ã€‚

## æ ¸å¿ƒç‰¹æ€§

- ğŸ” **è®¤è¯ä¸è¯ä¹¦ç®¡ç†**
  - SSLè¯ä¹¦è‡ªåŠ¨ç­¾å‘å’Œç»­æœŸ
  - è‡ªç”ŸæˆCAè¯ä¹¦ç”¨äºetcdã€NATSç­‰ç»„ä»¶é€šä¿¡åŠ å¯†
  - å†…ç½®JWTè®¤è¯æ”¯æŒ

- ğŸŒ **åˆ†å¸ƒå¼åŠŸèƒ½**
  - å†…åµŒetcdï¼Œæ— éœ€é¢å¤–éƒ¨ç½²
  - æœåŠ¡æ³¨å†Œä¸å‘ç°
  - é¢†å¯¼é€‰ä¸¾æœºåˆ¶
  - åˆ†å¸ƒå¼é”
  - åˆ†å¸ƒå¼IDç”Ÿæˆå™¨
  - æ”¯æŒé›†ç¾¤æ¨¡å¼éƒ¨ç½²

- âš™ï¸ **é…ç½®ä¸­å¿ƒ**
  - åŸºäºetcdçš„é…ç½®ç®¡ç†
  - æ”¯æŒå¤šç¯å¢ƒé…ç½®ï¼ˆå¼€å‘ã€æµ‹è¯•ã€ç”Ÿäº§ï¼‰
  - é…ç½®çƒ­æ›´æ–°

- â° **å®šæ—¶ä»»åŠ¡**
  - æ”¯æŒæ™®é€šå®šæ—¶ä»»åŠ¡
  - æ”¯æŒåˆ†å¸ƒå¼ä»»åŠ¡ï¼ˆåŸºäºetcdåˆ†å¸ƒå¼é”å®ç°ï¼‰
  - Cronè¡¨è¾¾å¼æ”¯æŒ

- ğŸ’¾ **ç¼“å­˜æœåŠ¡**
  - å†…åµŒç¼“å­˜æœåŠ¡å™¨
  - å…¼å®¹Redisåè®®
  - å¯ä½œä¸ºç‹¬ç«‹ç¼“å­˜ä½¿ç”¨

- ğŸ“¨ **æ¶ˆæ¯é˜Ÿåˆ—**
  - å†…åµŒNATSæ¶ˆæ¯é˜Ÿåˆ—
  - æ”¯æŒå‘å¸ƒ/è®¢é˜…æ¨¡å‹
  - æ”¯æŒè¯·æ±‚/å“åº”æ¨¡å‹
  - æ”¯æŒé˜Ÿåˆ—ç»„å’Œæ¶ˆæ¯æŒä¹…åŒ–

- ğŸ“Š **ç›‘æ§èƒ½åŠ›**
  - ç³»ç»Ÿèµ„æºç›‘æ§ï¼ˆCPUã€å†…å­˜ã€ç£ç›˜ï¼‰
  - åº”ç”¨æŒ‡æ ‡æ”¶é›†
  - å¯è§†åŒ–æ•°æ®å±•ç¤º

- ğŸ”§ **å¯æ‰©å±•**
  - æ¨¡å—åŒ–è®¾è®¡ï¼Œæ˜“äºæ‰©å±•å’Œå®šåˆ¶
  - æ’ä»¶æœºåˆ¶æ”¯æŒ

## ç³»ç»Ÿè¦æ±‚

- Go 1.24æˆ–æ›´é«˜ç‰ˆæœ¬
- æ”¯æŒçš„æ“ä½œç³»ç»Ÿ: Linux, macOS, Windows

## å¿«é€Ÿå¼€å§‹

### å®‰è£…

**Linux/macOS**:
```bash
./install.sh
```

**Windows**:
```cmd
install.bat
```

### é…ç½®

é…ç½®æ–‡ä»¶é»˜è®¤ä½äº `./conf` ç›®å½•ã€‚åŸºæœ¬é…ç½®ç¤ºä¾‹:

```yaml
system:
  mode: standalone  # å¯é€‰: standalone, cluster
  nodeId: node1
  logLevel: info
```

### è¿è¡Œ

```bash
./cmd/aio/aio --config ./conf
```

æŸ¥çœ‹ç‰ˆæœ¬ä¿¡æ¯:
```bash
./cmd/aio/aio --version
```

## ä½¿ç”¨æ–¹å¼

AIO æä¾›äº†å¤šç§ä½¿ç”¨æ–¹å¼ï¼ŒåŒ…æ‹¬ Go è¯­è¨€ SDK å’Œ Web ç®¡ç†åå°ã€‚

### Go è¯­è¨€å®¢æˆ·ç«¯SDK

AIO æä¾›äº†å®Œæ•´çš„ Go è¯­è¨€å®¢æˆ·ç«¯ SDKï¼Œå…ˆåœ¨ç®¡ç†åå°ç”Ÿæˆä¸€å¯¹keyå’Œå¯†é’¥ä¹‹åæ‚¨å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼åœ¨æ‚¨çš„é¡¹ç›®ä¸­ä½¿ç”¨ï¼š

#### 1. å®‰è£…SDK

```bash
go get github.com/xsxdot/aio/client
```

#### 2. åŸºæœ¬ä½¿ç”¨

ä¸‹é¢æ˜¯ä¸€ä¸ªåŸºäºå®é™…é¡¹ç›®çš„å®¢æˆ·ç«¯ä½¿ç”¨ç¤ºä¾‹ï¼š

```go
package main

import (
	"context"
	"fmt"
	"log"
	"strings"
	"github.com/xsxdot/aio/client"
)

type AppConfig struct {
	AppName string           `yaml:"app-name"`
	Env     string           `yaml:"env"`
	Host    string           `yaml:"host"`
	Port    int              `yaml:"port"`
	Domain  string           `json:"domain"`
	Aio     struct {
		Hosts        string `yaml:"hosts"`
		ClientId     string `yaml:"client-id"`
		ClientSecret string `yaml:"client-secret"`
	} `yaml:"aio"`
}

func main() {
	// åŠ è½½åº”ç”¨é…ç½®
	cfg := AppConfig{
		AppName: "my-app",
		Env:     "dev",
		Port:    8080,
		Aio: struct {
			Hosts        string `yaml:"hosts"`
			ClientId     string `yaml:"client-id"`
			ClientSecret string `yaml:"client-secret"`
		}{
			Hosts:        "localhost:9100",
			ClientId:     "client-id",
			ClientSecret: "client-secret",
		},
	}

	// è¿æ¥AIOæœåŠ¡
	hosts := strings.Split(cfg.Aio.Hosts, ",")
	clientOptions := client.NewBuilder("", cfg.AppName, cfg.Port).
		WithDefaultProtocolOptions(hosts, cfg.Aio.ClientId, cfg.Aio.ClientSecret).
		WithEtcdOptions(client.DefaultEtcdOptions).Build()

	aioClient := clientOptions.NewClient()
	err := aioClient.Start(context.Background())
	if err != nil {
		log.Fatalf("å¯åŠ¨AIOå®¢æˆ·ç«¯å¤±è´¥: %v", err)
	}
	defer aioClient.Close()

	// ä»é…ç½®ä¸­å¿ƒè·å–é…ç½®
	var logConfig struct {
		Level string `json:"level"`
		Sls   bool   `json:"sls"`
	}
	err = aioClient.Config.GetEnvConfigJSONParse(
		context.Background(),
		fmt.Sprintf("%s.%s", cfg.AppName, "log"),
		cfg.Env,
		[]string{"default"},
		&logConfig,
	)
	if err != nil {
		log.Fatalf("è·å–æ—¥å¿—é…ç½®å¤±è´¥: %v", err)
	}
	log.Printf("æ—¥å¿—çº§åˆ«: %s, SLSå¯ç”¨: %v", logConfig.Level, logConfig.Sls)

	// æœåŠ¡å‘ç°
	services, err := aioClient.Discovery.ListServices(context.Background(), "web")
	if err != nil {
		log.Printf("è·å–æœåŠ¡åˆ—è¡¨å¤±è´¥: %v", err)
	} else {
		for _, service := range services {
			log.Printf("æœåŠ¡: %s, åœ°å€: %s", service.Name, service.Address)
		}
	}
}
```

#### 3. åŠŸèƒ½æ¨¡å—ä½¿ç”¨ç¤ºä¾‹

##### é…ç½®æœåŠ¡

```go
// é…ç½®ç¯å¢ƒå›é€€é¡ºåº
fallbacks := []string{"default"}

// ä»é…ç½®ä¸­å¿ƒè·å–æŒ‡å®šç¯å¢ƒçš„é…ç½®å¹¶è§£æåˆ°ç»“æ„ä½“
var dbConfig struct {
	Host     string `json:"host"`
	Port     int    `json:"port"`
	Username string `json:"username"`
	Password string `json:"password"`
	Database string `json:"database"`
}
err := aioClient.Config.GetEnvConfigJSONParse(
	context.Background(),
	fmt.Sprintf("%s.%s", appName, "database"), 
	env, 
	fallbacks, 
	&dbConfig,
)

// ç›‘å¬é…ç½®å˜æ›´
ch := make(chan client.ConfigChange)
err := aioClient.Config.Watch(ctx, fmt.Sprintf("%s.%s", appName, "database"), ch)
go func() {
	for change := range ch {
		log.Printf("é…ç½®å˜æ›´: %s = %s", change.Key, change.Value)
	}
}()
```

##### æœåŠ¡å‘ç°

```go
// æ³¨å†ŒæœåŠ¡
service := &client.Service{
	Name:    "api",
	Version: "1.0.0",
	Address: host,
	Port:    port,
	Tags:    []string{"http", "json"},
}
err := aioClient.Discovery.Register(ctx, service)

// å‘ç°æœåŠ¡
services, err := aioClient.Discovery.Discover(ctx, "api", "1.0.0")
```

##### åˆ†å¸ƒå¼é”

```go
// è·å–é”
lock, err := aioClient.Etcd.Lock(ctx, "my-resource", 30)
if err != nil {
	log.Printf("è·å–é”å¤±è´¥: %v", err)
} else {
	defer lock.Unlock()
	// æ‰§è¡Œéœ€è¦åŠ é”çš„æ“ä½œ
}
```

##### é¢†å¯¼é€‰ä¸¾

```go
// å‚ä¸é€‰ä¸¾
election, err := aioClient.Etcd.Election("cluster-leader")
if err != nil {
	log.Printf("åˆ›å»ºé€‰ä¸¾å¤±è´¥: %v", err)
}

// æˆä¸ºé¢†å¯¼è€…çš„å›è°ƒ
electionCh := make(chan bool)
err = election.Campaign(ctx, "node-1", electionCh)
go func() {
	for isLeader := range electionCh {
		if isLeader {
			log.Println("æˆä¸ºé¢†å¯¼è€…")
			// é¢†å¯¼è€…é€»è¾‘
		} else {
			log.Println("å¤±å»é¢†å¯¼è€…åœ°ä½")
			// è·Ÿéšè€…é€»è¾‘
		}
	}
}()
```

##### æ¶ˆæ¯é˜Ÿåˆ—

```go
// å‘å¸ƒæ¶ˆæ¯
err := aioClient.NATS.Publish(ctx, "events.user", []byte(`{"id":1,"name":"ç”¨æˆ·1"}`))

// è®¢é˜…æ¶ˆæ¯
subscription, err := aioClient.NATS.Subscribe(ctx, "events.user", func(msg []byte) {
	log.Printf("æ”¶åˆ°æ¶ˆæ¯: %s", string(msg))
})
defer subscription.Unsubscribe()
```

##### ç¼“å­˜æœåŠ¡

```go
// è®¾ç½®ç¼“å­˜
err := aioClient.Cache.Set(ctx, "user:1", `{"id":1,"name":"ç”¨æˆ·1"}`, 3600)

// è·å–ç¼“å­˜
value, err := aioClient.Cache.Get(ctx, "user:1")
```

##### å®šæ—¶ä»»åŠ¡

```go
// è·å–schedulerå®ä¾‹
scheduler := aioClient.Scheduler

// åˆ›å»ºä¸€ä¸ªæ™®é€šä»»åŠ¡ï¼Œä¸éœ€è¦åˆ†å¸ƒå¼é”
taskID1, err := scheduler.AddTask("email-notification", func(ctx context.Context) error {
    // åœ¨è¿™é‡Œæ‰§è¡Œä»»åŠ¡é€»è¾‘
    log.Println("å‘é€é‚®ä»¶é€šçŸ¥")
    return nil
}, false)
if err != nil {
    log.Printf("æ·»åŠ ä»»åŠ¡å¤±è´¥: %v", err)
}

// åˆ›å»ºä¸€ä¸ªå»¶æ—¶ä»»åŠ¡ï¼Œéœ€è¦åˆ†å¸ƒå¼é”ä¿è¯é›†ç¾¤ä¸­åªæœ‰ä¸€ä¸ªå®ä¾‹æ‰§è¡Œ
taskID2, err := scheduler.AddDelayTask("cleanup-files", 1*time.Hour, func(ctx context.Context) error {
    // åœ¨è¿™é‡Œæ‰§è¡Œä»»åŠ¡é€»è¾‘
    log.Println("æ¸…ç†ä¸´æ—¶æ–‡ä»¶")
    return nil
}, true)
if err != nil {
    log.Printf("æ·»åŠ å»¶æ—¶ä»»åŠ¡å¤±è´¥: %v", err)
}

// åˆ›å»ºä¸€ä¸ªå‘¨æœŸæ€§ä»»åŠ¡ï¼Œæ¯10åˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡ï¼Œç«‹å³æ‰§è¡Œç¬¬ä¸€æ¬¡
taskID3, err := scheduler.AddIntervalTask("health-check", 10*time.Minute, true, func(ctx context.Context) error {
    // åœ¨è¿™é‡Œæ‰§è¡Œä»»åŠ¡é€»è¾‘
    log.Println("æ‰§è¡Œå¥åº·æ£€æŸ¥")
    return nil
}, true)
if err != nil {
    log.Printf("æ·»åŠ å‘¨æœŸä»»åŠ¡å¤±è´¥: %v", err)
}

// åˆ›å»ºä¸€ä¸ªåŸºäºCronè¡¨è¾¾å¼çš„å®šæ—¶ä»»åŠ¡ï¼Œæ¯å¤©å‡Œæ™¨3ç‚¹æ‰§è¡Œ
taskID4, err := scheduler.AddCronTask("backup-database", "0 3 * * *", func(ctx context.Context) error {
    // åœ¨è¿™é‡Œæ‰§è¡Œä»»åŠ¡é€»è¾‘
    log.Println("å¤‡ä»½æ•°æ®åº“")
    return nil
}, true)
if err != nil {
    log.Printf("æ·»åŠ Cronä»»åŠ¡å¤±è´¥: %v", err)
}

// å–æ¶ˆä»»åŠ¡
err = scheduler.CancelTask(taskID1)
if err != nil {
    log.Printf("å–æ¶ˆä»»åŠ¡å¤±è´¥: %v", err)
}

// è·å–ä»»åŠ¡ä¿¡æ¯
task, err := scheduler.GetTask(taskID2)
if err != nil {
    log.Printf("è·å–ä»»åŠ¡ä¿¡æ¯å¤±è´¥: %v", err)
} else {
    log.Printf("ä»»åŠ¡ID: %s, åç§°: %s", task.ID, task.Name)
}

// è·å–æ‰€æœ‰ä»»åŠ¡
allTasks := scheduler.GetAllTasks()
for _, t := range allTasks {
    log.Printf("ä»»åŠ¡: %s, ä¸‹æ¬¡æ‰§è¡Œæ—¶é—´: %v", t.Name, t.NextRunTime)
}
```

##### ç›‘æ§æŒ‡æ ‡

```go
// åˆ›å»ºç›‘æ§å®¢æˆ·ç«¯
monitoringClient, err := client.NewMonitoringClient(
    aioClient, 
    aioClient.NATS.GetConnection(), 
    client.DefaultMonitoringOptions(),
)
if err != nil {
    log.Fatalf("åˆ›å»ºç›‘æ§å®¢æˆ·ç«¯å¤±è´¥: %v", err)
}
defer monitoringClient.Stop()

// è·Ÿè¸ªAPIè°ƒç”¨
startTime := time.Now()
// ... å¤„ç†APIè¯·æ±‚ ...
monitoringClient.TrackAPICall(
    "/api/users", 
    "GET", 
    startTime, 
    200, 
    false, 
    "", 
    128, 
    1024, 
    "192.168.1.100", 
    map[string]string{"department": "sales"},
)

// å‘é€è‡ªå®šä¹‰åº”ç”¨æŒ‡æ ‡
err = monitoringClient.SendCustomAppMetrics(map[string]interface{}{
    "active_users": 1250,
    "pending_tasks": 45,
    "queue_depth": 12,
})
if err != nil {
    log.Printf("å‘é€è‡ªå®šä¹‰æŒ‡æ ‡å¤±è´¥: %v", err)
}

// å‘é€æœåŠ¡ç›‘æ§æ•°æ®
err = monitoringClient.SendServiceData(map[string]interface{}{
    "database_connections": 25,
    "cache_hit_ratio": 0.85,
    "average_response_time": 42.5,
})
if err != nil {
    log.Printf("å‘é€æœåŠ¡ç›‘æ§æ•°æ®å¤±è´¥: %v", err)
}

// å‘é€æœåŠ¡APIè°ƒç”¨æ•°æ®
apiCalls := []client.APICall{
    {
        Endpoint:     "/api/users",
        Method:       "GET",
        Timestamp:    time.Now().Add(-1 * time.Minute),
        DurationMs:   45.2,
        StatusCode:   200,
        HasError:     false,
        ErrorMessage: "",
        RequestSize:  128,
        ResponseSize: 1024,
        ClientIP:     "192.168.1.100",
        Tags:         map[string]string{"user_type": "admin"},
    },
    // ... æ›´å¤šAPIè°ƒç”¨è®°å½• ...
}
err = monitoringClient.SendServiceAPIData(apiCalls)
if err != nil {
    log.Printf("å‘é€APIè°ƒç”¨æ•°æ®å¤±è´¥: %v", err)
}
```

### Web ç®¡ç†åå°

AIO æä¾›äº†ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„ Web ç®¡ç†åå°ï¼Œå¯ä»¥é€šè¿‡æµè§ˆå™¨è®¿é—®å¹¶ç®¡ç†æ‰€æœ‰åŠŸèƒ½ã€‚

#### è®¿é—®æ–¹å¼

- å¯åŠ¨ AIO æœåŠ¡åï¼Œç›´æ¥é€šè¿‡æµè§ˆå™¨è®¿é—®ï¼š`http://<æœåŠ¡å™¨IP>:<ç«¯å£å·>`
- é»˜è®¤ç«¯å£ä¸º 8080
- é»˜è®¤è´¦æˆ·å’Œå¯†ç å‡ä¸º `admin`

#### ä¸»è¦åŠŸèƒ½

Web ç®¡ç†åå°æä¾›ä»¥ä¸‹åŠŸèƒ½ï¼š

1. **ä»ªè¡¨ç›˜**
   - ç³»ç»Ÿæ¦‚è§ˆ
   - èµ„æºä½¿ç”¨æƒ…å†µ
   - ç»„ä»¶çŠ¶æ€

2. **é…ç½®ä¸­å¿ƒ**
   - æŸ¥çœ‹å’Œç¼–è¾‘é…ç½®
   - å¤šç¯å¢ƒé…ç½®ç®¡ç†
   - é…ç½®ç‰ˆæœ¬å†å²

3. **æœåŠ¡ç®¡ç†**
   - æœåŠ¡æ³¨å†Œåˆ—è¡¨
   - æœåŠ¡å¥åº·çŠ¶æ€
   - æœåŠ¡è¯¦æƒ…æŸ¥çœ‹

4. **ä»»åŠ¡è°ƒåº¦**
   - ä»»åŠ¡åˆ—è¡¨
   - åˆ›å»ºå’Œç¼–è¾‘ä»»åŠ¡
   - ä»»åŠ¡æ‰§è¡Œå†å²
   - æ‰‹åŠ¨è§¦å‘ä»»åŠ¡

5. **ç›‘æ§ä¸­å¿ƒ**
   - ç³»ç»Ÿèµ„æºç›‘æ§
   - è‡ªå®šä¹‰æŒ‡æ ‡æŸ¥çœ‹
   - å‘Šè­¦è§„åˆ™é…ç½®
   - å‘Šè­¦å†å²

6. **ç»„ä»¶é…ç½®**
   - æ¶ˆæ¯é˜Ÿåˆ—ç®¡ç†å’Œé…ç½®
   - ç¼“å­˜æœåŠ¡ç®¡ç†å’Œé…ç½®
   - SSLè¯ä¹¦ç®¡ç†å’Œé…ç½®

#### ç»„ä»¶å¯ç”¨è¯´æ˜

AIO é»˜è®¤å¯ç”¨äº†å¤§éƒ¨åˆ†åŠŸèƒ½ï¼Œä½†ä»¥ä¸‹ç»„ä»¶éœ€è¦é€šè¿‡ Web ç®¡ç†åå°é…ç½®åå¯ç”¨ï¼š

- **æ¶ˆæ¯é˜Ÿåˆ— (MQ)** - éœ€è¦åœ¨ç®¡ç†åå°ä¸­é…ç½®å’Œå¯ç”¨
- **ç¼“å­˜æœåŠ¡ (Cache)** - éœ€è¦åœ¨ç®¡ç†åå°ä¸­é…ç½®å’Œå¯ç”¨
- **SSLè¯ä¹¦ç®¡ç†** - éœ€è¦åœ¨ç®¡ç†åå°ä¸­é…ç½®å’Œå¯ç”¨

å…¶ä»–ç»„ä»¶ï¼ˆå¦‚ etcdã€æœåŠ¡å‘ç°ã€é…ç½®ä¸­å¿ƒã€å®šæ—¶ä»»åŠ¡ã€ç›‘æ§ï¼‰é»˜è®¤å·²å¯ç”¨ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ã€‚

## è¯¦ç»†åŠŸèƒ½è¯´æ˜

### è¯ä¹¦ç®¡ç†

AIOæä¾›ä¸¤ç§è¯ä¹¦ç®¡ç†åŠŸèƒ½ï¼š

1. **SSLè¯ä¹¦ç®¡ç†**
   - æ”¯æŒé€šè¿‡ACMEåè®®è‡ªåŠ¨å‘Let's Encryptç”³è¯·SSLè¯ä¹¦
   - è‡ªåŠ¨å¤„ç†è¯ä¹¦ç»­æœŸ
   - æ”¯æŒè¯ä¹¦çŠ¶æ€ç›‘æ§

2. **å†…éƒ¨CAè¯ä¹¦**
   - è‡ªåŠ¨ç”ŸæˆCAæ ¹è¯ä¹¦
   - ä¸ºæœåŠ¡ç»„ä»¶ï¼ˆå¦‚etcdã€NATSï¼‰ç­¾å‘è¯ä¹¦
   - ç®€åŒ–å†…éƒ¨é€šä¿¡åŠ å¯†é…ç½®

### åˆ†å¸ƒå¼åŠŸèƒ½

AIOå†…ç½®åˆ†å¸ƒå¼åè°ƒèƒ½åŠ›ï¼š

1. **å†…åµŒetcd**
   - æ— éœ€å¤–éƒ¨ä¾èµ–å³å¯ä½¿ç”¨åˆ†å¸ƒå¼åŠŸèƒ½
   - æ”¯æŒå•èŠ‚ç‚¹å’Œé›†ç¾¤æ¨¡å¼
   - æ•°æ®æŒä¹…åŒ–

2. **æœåŠ¡å‘ç°**
   - è‡ªåŠ¨æ³¨å†ŒæœåŠ¡
   - æœåŠ¡å¥åº·æ£€æŸ¥
   - åŠ¨æ€æœåŠ¡å‘ç°

3. **é¢†å¯¼é€‰ä¸¾ä¸åˆ†å¸ƒå¼é”**
   - æ”¯æŒä¸»ä»æ¶æ„åº”ç”¨
   - é˜²æ­¢è„‘è£‚
   - åˆ†å¸ƒå¼é”APIç®€åŒ–å¹¶å‘æ§åˆ¶

4. **åˆ†å¸ƒå¼IDç”Ÿæˆå™¨**
   - æ”¯æŒå¤šç§IDç”Ÿæˆç­–ç•¥
   - ä¿è¯å…¨å±€å”¯ä¸€æ€§
   - é«˜æ€§èƒ½è®¾è®¡

### é…ç½®ä¸­å¿ƒ

ä¸­å¤®åŒ–é…ç½®ç®¡ç†ï¼š

1. **åŸºäºetcdçš„é…ç½®å­˜å‚¨**
   - é…ç½®ç‰ˆæœ¬æ§åˆ¶
   - é…ç½®å˜æ›´å†å²

2. **å¤šç¯å¢ƒæ”¯æŒ**
   - å¼€å‘ã€æµ‹è¯•ã€ç”Ÿäº§ç¯å¢ƒéš”ç¦»
   - ç¯å¢ƒç»§æ‰¿æœºåˆ¶

3. **åŠ¨æ€é…ç½®**
   - é…ç½®çƒ­æ›´æ–°
   - é…ç½®å˜æ›´é€šçŸ¥

### å®šæ—¶ä»»åŠ¡

å¼ºå¤§çš„ä»»åŠ¡è°ƒåº¦åŠŸèƒ½ï¼š

1. **æœ¬åœ°ä»»åŠ¡**
   - åŸºäºCronè¡¨è¾¾å¼
   - ä»»åŠ¡ä¾èµ–å…³ç³»

2. **åˆ†å¸ƒå¼ä»»åŠ¡**
   - é›†ç¾¤é—´ä»»åŠ¡åè°ƒ
   - å•æ¬¡æ‰§è¡Œä¿è¯
   - å¤±è´¥é‡è¯•æœºåˆ¶

3. **ä»»åŠ¡ç®¡ç†**
   - å¯è§†åŒ–ä»»åŠ¡çŠ¶æ€
   - æ‰‹åŠ¨è§¦å‘
   - æ‰§è¡Œæ—¥å¿—

### ç¼“å­˜æœåŠ¡

å†…ç½®ç¼“å­˜æœåŠ¡ï¼š

1. **Redisåè®®å…¼å®¹**
   - æ— éœ€ä¿®æ”¹å®¢æˆ·ç«¯å³å¯ä½¿ç”¨
   - æ”¯æŒä¸»è¦Rediså‘½ä»¤

2. **å­˜å‚¨é€‰é¡¹**
   - å†…å­˜å­˜å‚¨
   - å¯æŒä¹…åŒ–
   - æ”¯æŒTTL

### æ¶ˆæ¯é˜Ÿåˆ—

é›†æˆNATSæ¶ˆæ¯é˜Ÿåˆ—ï¼š

1. **æ¶ˆæ¯æ¨¡å¼**
   - å‘å¸ƒ/è®¢é˜…
   - è¯·æ±‚/å“åº”
   - é˜Ÿåˆ—ç»„

2. **æŒä¹…åŒ–**
   - æ¶ˆæ¯æŒä¹…åŒ–é€‰é¡¹
   - è‡³å°‘ä¸€æ¬¡é€è¾¾ä¿è¯
   - æ¶ˆæ¯é‡æ”¾

### ç›‘æ§

å…¨é¢çš„ç›‘æ§èƒ½åŠ›ï¼š

1. **ç³»ç»Ÿç›‘æ§**
   - CPUã€å†…å­˜ã€ç½‘ç»œã€ç£ç›˜ä½¿ç”¨ç‡
   - è¿›ç¨‹ç›‘æ§

2. **åº”ç”¨ç›‘æ§**
   - è‡ªå®šä¹‰æŒ‡æ ‡
   - æ€§èƒ½åˆ†æ
   - æ—¥å¿—èšåˆ

## é¡¹ç›®ç»“æ„

```
.
â”œâ”€â”€ app/          # åº”ç”¨æ ¸å¿ƒä»£ç 
â”œâ”€â”€ cmd/          # å‘½ä»¤è¡Œå…¥å£
â”œâ”€â”€ conf/         # é…ç½®æ–‡ä»¶
â”œâ”€â”€ docs/         # æ–‡æ¡£
â”œâ”€â”€ internal/     # å†…éƒ¨åŒ…
â”‚   â”œâ”€â”€ authmanager/    # è®¤è¯ç®¡ç†
â”‚   â”œâ”€â”€ cache/          # ç¼“å­˜æœåŠ¡
â”‚   â”œâ”€â”€ certmanager/    # è¯ä¹¦ç®¡ç†
â”‚   â”œâ”€â”€ etcd/           # etcdç»„ä»¶
â”‚   â”œâ”€â”€ monitoring/     # ç›‘æ§ç»„ä»¶
â”‚   â””â”€â”€ mq/             # æ¶ˆæ¯é˜Ÿåˆ—
â”œâ”€â”€ pkg/          # å…¬å…±åŒ…
â”‚   â”œâ”€â”€ auth/           # è®¤è¯ç›¸å…³
â”‚   â”œâ”€â”€ common/         # é€šç”¨å·¥å…·
â”‚   â”œâ”€â”€ config/         # é…ç½®ç›¸å…³
â”‚   â”œâ”€â”€ distributed/    # åˆ†å¸ƒå¼åŠŸèƒ½
â”‚   â”œâ”€â”€ protocol/       # åè®®ç›¸å…³
â”‚   â””â”€â”€ scheduler/      # ä»»åŠ¡è°ƒåº¦
â”œâ”€â”€ client/       # Goè¯­è¨€å®¢æˆ·ç«¯SDK
â””â”€â”€ web/          # Webç®¡ç†ç•Œé¢
```

## å¼€å‘

### æ„å»º

```bash
./build.sh
```

### æµ‹è¯•

```bash
go test ./...
```

## ä½¿ç”¨åœºæ™¯

AIO é€‚ç”¨äºä»¥ä¸‹åœºæ™¯ï¼š

1. **å¾®æœåŠ¡åŸºç¡€è®¾æ–½**
   - é™ä½å¾®æœåŠ¡åŸºç¡€è®¾æ–½çš„å¤æ‚æ€§
   - æä¾›æœåŠ¡æ³¨å†Œã€å‘ç°ã€é…ç½®ç®¡ç†ç­‰æ ¸å¿ƒèƒ½åŠ›

2. **ä¸­å°å‹åº”ç”¨æ¶æ„**
   - ç®€åŒ–åº”ç”¨ä¾èµ–
   - å‡å°‘è¿ç»´æˆæœ¬

3. **è¾¹ç¼˜è®¡ç®—**
   - èµ„æºå—é™ç¯å¢ƒä¸‹çš„åˆ†å¸ƒå¼ç³»ç»Ÿ
   - é™ä½å¤–éƒ¨ä¾èµ–

4. **å¼€å‘å’Œæµ‹è¯•ç¯å¢ƒ**
   - å¿«é€Ÿæ­å»ºå®Œæ•´åŠŸèƒ½çš„å¼€å‘ç¯å¢ƒ
   - é™ä½ç¯å¢ƒå·®å¼‚å¯¼è‡´çš„é—®é¢˜

## é…ç½®å‚è€ƒ

è¯¦ç»†é…ç½®è¯·å‚é˜… [docs/config.md](./docs/config.md)

## è´¡çŒ®æŒ‡å—

æˆ‘ä»¬æ¬¢è¿ä»»ä½•å½¢å¼çš„è´¡çŒ®ï¼ŒåŒ…æ‹¬ä½†ä¸é™äº:

1. æäº¤é—®é¢˜å’Œå»ºè®®
2. æäº¤Pull Request
3. æ”¹è¿›æ–‡æ¡£

åœ¨æäº¤PRå‰ï¼Œè¯·ç¡®ä¿:
- ä»£ç ç¬¦åˆGoçš„æ ‡å‡†æ ¼å¼ (ä½¿ç”¨ `go fmt`)
- æ‰€æœ‰æµ‹è¯•ç”¨ä¾‹é€šè¿‡
- æ–°åŠŸèƒ½æ·»åŠ äº†ç›¸åº”çš„æµ‹è¯•
- æ›´æ–°äº†ç›¸å…³çš„æ–‡æ¡£

## è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ [Apache License 2.0](LICENSE) è®¸å¯è¯ã€‚

## è”ç³»ä¸æ”¯æŒ

- é—®é¢˜åé¦ˆ: åœ¨GitHubä¸Šæäº¤Issue
- é‚®ä»¶è”ç³»: [ç»´æŠ¤è€…é‚®ç®±]
- è®¨è®ºç»„: [è®¨è®ºç»„é“¾æ¥ï¼Œå¦‚æœ‰]

## è‡´è°¢

æ„Ÿè°¢æ‰€æœ‰è´¡çŒ®è€…å’Œä»¥ä¸‹å¼€æºé¡¹ç›®çš„æ”¯æŒ:

- [etcd](https://github.com/etcd-io/etcd) - åˆ†å¸ƒå¼é”®å€¼å­˜å‚¨
- [NATS](https://github.com/nats-io/nats-server) - é«˜æ€§èƒ½æ¶ˆæ¯ç³»ç»Ÿ
- [Fiber](https://github.com/gofiber/fiber) - Webæ¡†æ¶
- [Badger](https://github.com/dgraph-io/badger) - é”®å€¼æ•°æ®åº“
- [Go Redis](https://github.com/redis/go-redis) - Rediså®¢æˆ·ç«¯
- [Zap](https://github.com/uber-go/zap) - æ—¥å¿—åº“ 